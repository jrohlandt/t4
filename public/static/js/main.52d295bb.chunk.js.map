{"version":3,"sources":["backend/components/tasks/dropdown.jsx","backend/core/Helpers/DateHelper.js","backend/components/tasks/timer.jsx","backend/core/Helpers/TaskHelper.js","backend/components/tasks/active-task-row.jsx","backend/components/tasks/task-row.jsx","backend/components/shared/loadingAnimation.jsx","backend/core/Helpers/AjaxHelper.js","backend/components/tasks/index.jsx","backend/components/reports/index.jsx","backend/components/shared/listing/RowActions.jsx","backend/components/shared/listing/table.jsx","backend/components/shared/colorPalette.jsx","backend/components/shared/popups/ConfirmDelete.jsx","backend/components/projects/index.jsx","backend/components/clients/index.jsx","backend/components/labels/index.jsx","App.js","serviceWorker.js","index.js"],"names":["DropDown","props","state","expand","handleChange","bind","toggleDropdown","handleOnBlur","this","setState","console","log","setTimeout","itemId","selectedName","itemColor","icon","items","options","map","o","i","selected","id","name","undefined","color","value","key","onClick","role","size","className","tabIndex","onBlur","style","background","React","Component","DateHelper","dayNames","shortName","monthNames","mysqlDateTime","toMysqlDateTime","Date","dateObj","hoursAndMinutesOnly","hours","getHours","toString","minutes","getMinutes","seconds","getSeconds","month","getMonth","day","getDate","getFullYear","dateTimeString","getTime","startTime","endTime","mysqlToSeconds","durationInSeconds","time","Math","floor","round","dateString","now","getDay","dateOfMonth","year","Timer","duration","intervalId","date","setInterval","startTimeInSeconds","currentTime","clearInterval","durationForDisplay","tasks","tasksByDate","length","task","dateKey","toMysqlDate","start_time","hasOwnProperty","push","t","description","total","end_time","isStarted","ActiveTaskRow","isActiveTask","showInput","showExtras","descriptionChanged","createTask","updateTask","startTimer","stopTimer","handleProjectChange","handleLabelChange","handleDescriptionChange","handleDescriptionOnBlur","hideInput","event","target","Object","keys","TaskHelper","projectId","assign","project_id","labelId","label_id","indexOf","getTimeOnly","nextProps","p","autoFocus","type","onChange","placeholder","projects","labels","displayDuration","TaskRow","toggleTimer","hideExtras","hasNotBeenCreated","onMouseOver","onMouseLeave","width","displayTime","deleteTask","LoadingAnimation","get","url","urlencode","send","post","data","put","delete","requestType","qs","stringify","Promise","resolve","reject","axios","defaults","headers","token","document","querySelector","getAttribute","err","withCredentials","toLowerCase","then","response","catch","error","status","window","location","href","validationErrors","errors","request","message","config","emptyTask","emptyLabel","emptyProject","loading","activeTask","ajaxUrl","getTasks","getActiveTask","Ajax","res","fillDefaultValues","currentState","isDone","concat","filter","unshift","tasksRows","sortTasksByDate","formatDateHeading","dailyTotal","CSSTransition","in","appear","timeout","classNames","LineChart","require","Line","Reports","height","RowActions","paddingTop","edit","List","cellSpacing","head","columns","c","displayName","v","item","split","project","ColorPalette","colors","backgroundColor","ConfirmDelete","text","close","client_id","color_id","Projects","clients","showPopup","showClientDropdown","showColorPalette","activeProject","savingToDb","tableConfig","create","store","save","hidePopup","changeColor","getColorById","getColorValueById","toggleColorPalette","handleValidationErrors","clearValidationErrors","getClientById","getClientNameById","changeClient","toggleClientDropdown","hideDropdowns","confirmDelete","newState","colorId","clientId","client","emptyClient","Clients","activeClient","storingNewClient","deleteClient","editClient","createClient","storeClient","saveClient","Labels","activeLabel","storingNewLabel","label","logout","App","exact","to","activeClassName","marginBottom","path","component","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.52d295bb.chunk.js","sourcesContent":["import React from 'react';\n\nimport { FaFolder, FaTag } from 'react-icons/fa';\n\nclass DropDown extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            expand: false,\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.toggleDropdown = this.toggleDropdown.bind(this);\n        this.handleOnBlur = this.handleOnBlur.bind(this);\n    }\n\n    toggleDropdown() {\n        this.setState({ expand: !this.state.expand });\n    }\n\n    handleOnBlur() {\n        console.log('on blur');\n        setTimeout(() => this.setState({expand: false}), 0);\n    }\n\n    handleChange(itemId) {\n\n        this.setState({ expand: false });\n        // Call parent handler.\n        this.props.handleChange(itemId);\n    }\n\n    render() {\n        const props = this.props;\n        let selectedName;\n        let itemColor;\n        const items = props.options.map((o, i) => {\n            if (props.selected !== 0 && props.selected === o.id) {\n                selectedName = o.name;\n                if (o.color !== undefined) {\n                    itemColor = o.color.value;\n                }\n            }\n            return (\n                <li key={o.id} onClick={ () => this.handleChange(o.id) }>{o.name}</li>\n            );\n        });\n\n        let icon;\n        switch (props.role) {\n            case 'project-select':\n                icon = <FaFolder size={14}/>;\n                break;\n            case 'label-select':\n                icon = <FaTag size={14}/>;\n                break;\n            default:\n                icon = <FaFolder size={14}/>;\n        }\n\n        return (\n            <div \n                className={ \n                    (selectedName ? 'ttr-dropdown ttr-' + props.role + ' ' : 'ttr-dropdown ttr-no-selected ') + (this.state.expand ? 'ttr-dropdown-expanded' : '')} \n            >\n                <div className='ttr-dropdown-list-wrapper'\n                    tabIndex={0}\n                    onClick={this.toggleDropdown} \n                    onBlur={this.handleOnBlur} \n                >\n                    <div \n                        className='ttr-dropdown-icon'\n                        style={ itemColor ? {'color': `hsl(${itemColor})`} : {} }\n                    >\n                        { \n                            selectedName \n                                ? (props.role === 'project-select' ? <div><span style={{background: (itemColor ? `hsl(${itemColor})`: '') }}className='ttr-dropdown-project-dot'></span>{selectedName}</div> : selectedName)\n                                : icon \n                        }\n                    </div>\n                    { this.state.expand \n                        ? <div className='ttr-dropdown-list'>\n                                <ul>{items}</ul>\n                            </div>\n                        : ''\n                    }\n                </div>\n            </div>\n        );\n    }\n    \n};\n\nexport default DropDown;","class DateHelper {\n\n    constructor() {\n        this.dayNames = [\n            {name: 'sunday', shortName: 'sun'},\n            {name: 'monday', shortName: 'mon'},\n            {name: 'tuesday', shortName: 'tue'},\n            {name: 'wednesday', shortName: 'wed'},\n            {name: 'thursday', shortName: 'thu'},\n            {name: 'friday', shortName: 'fri'},\n            {name: 'saturday', shortName: 'sat'}\n        ]\n    \n        this.monthNames = [\n            {name: 'january', shortName: 'jan'},\n            {name: 'february', shortName: 'feb'},\n            {name: 'march', shortName: 'mar'},\n            {name: 'april', shortName: 'apr'},\n            {name: 'may', shortName: 'may'},\n            {name: 'june', shortName: 'jun'},\n            {name: 'july', shortName: 'jul'},\n            {name: 'august', shortName: 'aug'},\n            {name: 'september', shortName: 'sep'},\n            {name: 'october', shortName: 'oct'},\n            {name: 'november', shortName: 'nov'},\n            {name: 'december', shortName: 'dec'},\n        ]\n    }\n    \n\n    getTimeOnly(mysqlDateTime) {        \n        return this.toMysqlDateTime(new Date(mysqlDateTime), true);\n    }\n\n    toMysqlDateTime(dateObj, hoursAndMinutesOnly=false) {\n        const hours = (dateObj.getHours() < 10) ? \"0\" + dateObj.getHours().toString() : dateObj.getHours();\n        const minutes = (dateObj.getMinutes() < 10) ? \"0\" + dateObj.getMinutes().toString() : dateObj.getMinutes();\n\n        if (hoursAndMinutesOnly)\n            return hours + \":\" + minutes;\n\n        const seconds = (dateObj.getSeconds() < 10) ? \"0\" + dateObj.getSeconds().toString() : dateObj.getSeconds();\n\n        const month = ((dateObj.getMonth() + 1) < 10) ? \"0\" + (dateObj.getMonth() + 1).toString() : (dateObj.getMonth() + 1);\n        const day = (dateObj.getDate() < 10) ? \"0\" + dateObj.getDate().toString() : dateObj.getDate();\n\n        return dateObj.getFullYear() + \"-\" + month + \"-\" + day + \" \" + hours + \":\" + minutes + \":\" + seconds;\n    }\n\n    toMysqlDate(dateObj) {\n        const month = ((dateObj.getMonth() + 1) < 10) ? \"0\" + (dateObj.getMonth() + 1).toString() : (dateObj.getMonth() + 1);\n        const day = (dateObj.getDate() < 10) ? \"0\" + dateObj.getDate().toString() : dateObj.getDate();\n\n        return dateObj.getFullYear() + \"-\" + month + \"-\" + day;\n    }\n\n    /**\n     * \n     * @param {string} dateTimeString e.g. '2018-06-24 11:00:21'\n     */\n    mysqlToSeconds(dateTimeString) {\n        return new Date(dateTimeString).getTime() / 1000;\n    }\n\n    durationInSeconds(startTime, endTime) {\n        return this.mysqlToSeconds(endTime) - this.mysqlToSeconds(startTime);\n    }\n\n    durationForTitle(durationInSeconds) {\n\n        var time = '';\n    \n        // get seconds\n        // var seconds = Math.round(durationInSeconds % 60);\n    \n        // remove seconds from the date\n        durationInSeconds = Math.floor(durationInSeconds / 60);\n    \n        // get minutes\n        var minutes = Math.round(durationInSeconds % 60);\n    \n        // remove minutes from the date\n        durationInSeconds = Math.floor(durationInSeconds / 60);\n    \n        // get hours\n        var hours = Math.round(durationInSeconds % 24);\n    \n        // remove hours from the date\n        durationInSeconds = Math.floor(durationInSeconds / 24);\n    \n        if (hours > 0) {\n            time += hours + ' h ';\n        }\n    \n        if (minutes > 0) {\n            time += minutes + ' min ';\n        }\n    \n        return time;\n    }\n    \n    durationForDisplay(durationInSeconds) {\n    //        /* if (typeof durationInSeconds !== \"string\") {\n    //         return false;\n    //         }*/\n    \n        var time = '';\n    \n        // get seconds\n        var seconds = Math.round(durationInSeconds % 60);\n    \n        // remove seconds from the date\n        durationInSeconds = Math.floor(durationInSeconds / 60);\n    \n        // get minutes\n        var minutes = Math.round(durationInSeconds % 60);\n    \n        // remove minutes from the date\n        durationInSeconds = Math.floor(durationInSeconds / 60);\n    \n        // get hours\n        var hours = Math.round(durationInSeconds % 24);\n    \n        // remove hours from the date\n        durationInSeconds = Math.floor(durationInSeconds / 24);\n    \n        // the rest of durationInSeconds is number of days\n        // var days = durationInSeconds ;\n    \n        /*if (days > 0) {\n         time += days + 'd ';\n         }*/\n    \n        if (hours > 0) {\n            time += (hours < 10) ? ('0' + hours + ':') : (hours + ':');\n        } else {\n            time += '00:';\n        }\n    \n        if (minutes > 0) {\n            time += (minutes < 10) ? ('0' + minutes + ':') : (minutes + ':');\n        } else {\n            time += '00:';\n        }\n    \n        if (seconds > 0) {\n            time += (seconds < 10) ? ('0' + seconds) : seconds;\n        } else {\n            time += '00';\n        }\n    \n        return time;\n    }\n\n    // @param string dateString\n    formatDateHeading(dateString) {\n        const now = new Date();\n        const dateObj = new Date(dateString);\n    \n        const day = this.dayNames[dateObj.getDay()].shortName;\n        const month = this.monthNames[dateObj.getMonth()].shortName;\n        const dateOfMonth = dateObj.getDate();\n        const year = now.getFullYear() === dateObj.getFullYear() ? '' : dateObj.getFullYear(); // Only show year if the date is not from the current year.\n    \n        if (\n            dateObj.getFullYear() === now.getFullYear()\n            && dateObj.getMonth() === now.getMonth()\n            && dateObj.getDate() === now.getDate()\n        ) {\n            return 'today';\n        }\n        return `${day} ${dateOfMonth} ${month} ${year}`;\n    }\n}\n\nexport default DateHelper;","import React from 'react';\nimport DateHelper from '../../core/Helpers/DateHelper';\n\nclass Timer extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            duration: 0, // in seconds\n            intervalId: 0,\n        };\n\n        this.date = new DateHelper();\n    }\n\n    componentDidMount() {\n\n        console.log('timer mounted', this.props.startTime);\n       \n        const intervalId = setInterval(() => {\n\n            console.log('interval ');\n            this.setState({intervalId});\n\n            if (this.props.startTime === 0) {\n                return;\n            }\n    \n            const startTime = new Date(this.props.startTime).getTime();\n            const startTimeInSeconds = startTime / 1000;\n            const currentTime = new Date().getTime() / 1000;\n            const duration = Math.round(currentTime - startTimeInSeconds);\n\n            this.setState({duration});\n\n        }, 1000);\n    }\n\n\n    componentWillUnmount() {\n        console.log('timer clear interval');\n        clearInterval(this.state.intervalId);\n    }\n\n    render() {\n\n        return (\n            <div>\n                {this.date.durationForDisplay(this.state.duration)}\n            </div>\n        );\n    }\n}\n\nexport default Timer;","import DateHelper from './DateHelper';\n\nclass TaskHelper {\n\n    constructor() {\n        this.date = new DateHelper();\n    }\n    \n    // Create a object that stores each task by it's date.\n    sortTasksByDate(tasks) {\n        let tasksByDate = {};\n        for ( let i=0; i < tasks.length; i++ ) {\n            let task    = tasks[i];\n            let dateKey = this.date.toMysqlDate(new Date(task.start_time));\n            \n            if ( ! tasksByDate.hasOwnProperty(dateKey) ) {\n                tasksByDate[dateKey] = [];\n            }\n            \n            tasksByDate[dateKey].push(task);\n        }\n\n        return tasksByDate;\n    }\n\n    fillDefaultValues(tasks) {\n        const filledTasks = tasks.map(t => {\n            if (t.description === null) {\n                t.description = '';\n            }\n            return t;\n        });\n\n        return filledTasks;\n    }\n\n    dailyTotal(tasks) {\n        let total = 0;\n        for (let i=0; i < tasks.length; i++) {\n            let startTime = tasks[i].start_time;\n            let endTime = tasks[i].end_time;\n            let duration = this.date.durationInSeconds(startTime, endTime);\n            total += duration;\n        }\n\n        return this.date.durationForDisplay(total);\n    }\n    \n\n    hasNotBeenCreated(task) {\n        return !task.id;\n    }\n\n    isStarted(task) {\n\n        if (!task.start_time)\n            return false;\n\n        return new Date(task.start_time).getTime() > 0;\n    }\n\n    // Check if a task is done (has a valid end date).\n    isDone(task) {\n\n        if (!task.end_time)\n            return false;\n\n        return this.isStarted(task) && new Date(task.end_time).getTime() > 0;\n    }\n}\n\nexport default new TaskHelper();","import React from 'react';\nimport DropDown from './dropdown.jsx';\nimport DisplayTimer from './timer.jsx';\nimport DateHelper from '../../core/Helpers/DateHelper';\nimport TaskHelper from '../../core/Helpers/TaskHelper';\n\n// import { MdDelete } from 'react-icons/md';\n\n\nimport { FaStop, FaPlay } from 'react-icons/fa';\n\n//\n// const getProjectName = (projectId, projects) => {\n//\n//     for (let i=0; i < projects.length; i++) {\n//         let project = projects[i];\n//         if (project.id == projectId) {\n//             return project.name;\n//         }\n//     }\n//\n//     return 'no project';\n// };\n//\n// const getLabelName = (labelId, labels) => {\n//\n//     for (let i=0; i < labels.length; i++) {\n//         let label = labels[i];\n//         if (label.id == labelId) {\n//             return label.name;\n//         }\n//     }\n//\n//     return '';\n// };\n\nclass ActiveTaskRow extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isActiveTask: false,\n            showInput: false,\n            showExtras: false,\n            descriptionChanged: false,\n            task: {\n                description: '',\n                start_time: 0,\n            },\n        }\n\n        this.date = new DateHelper();\n\n        this.createTask                 = this.createTask.bind(this);\n        this.updateTask                 = this.updateTask.bind(this);\n        this.startTimer                 = this.startTimer.bind(this);\n        this.stopTimer                  = this.stopTimer.bind(this);\n        this.handleProjectChange        = this.handleProjectChange.bind(this);\n        this.handleLabelChange          = this.handleLabelChange.bind(this);\n        this.handleDescriptionChange    = this.handleDescriptionChange.bind(this);\n        this.handleDescriptionOnBlur    = this.handleDescriptionOnBlur.bind(this);\n        this.showInput                  = this.showInput.bind(this);\n        this.hideInput                  = this.hideInput.bind(this);\n    }\n\n    handleDescriptionChange(event) {\n        const task = this.state.task;\n        task.description = event.target.value;\n\n        this.setState({task, descriptionChanged: true});\n    }\n\n    showInput() {\n        this.setState({showInput: true});\n    }\n\n    hideInput() {\n        this.setState({showInput: false});\n    }\n\n    handleDescriptionOnBlur(event) {\n        this.hideInput();\n\n        if (this.state.descriptionChanged && this.state.task.id) {\n            this.setState({descriptionChanged: false});        \n            this.updateTask();        \n        }\n    }\n\n    createTask(task={}) {\n        console.log('task row create', task);\n        if (Object.keys(task).length > 0) {\n            this.props.createTask(task);\n            return;\n        }\n\n        this.props.createTask(this.state.task);\n    }\n\n    updateTask(task={}) {\n        let t = Object.keys(task).length > 0 ? {...task} : {...this.state.task};\n\n        if (!t.id) {\n            this.createTask(task);\n            return;\n        }\n\n        this.props.updateTask(t, this.state.isActiveTask);\n    }\n\n    startTimer() {\n        let task = {...this.state.task};\n\n        if (TaskHelper.isStarted(task)) \n            return;\n\n        task.start_time = this.date.toMysqlDateTime(new Date());\n        this.updateTask(task);    \n    }\n\n    stopTimer() {\n        let task = {...this.state.task};\n\n        if ( ! TaskHelper.isStarted(task) ) \n            return;\n\n        task.end_time = this.date.toMysqlDateTime(new Date());\n        this.updateTask(task);\n    }\n\n    handleProjectChange(projectId) {\n        this.updateTask(Object.assign(this.state.task, {project_id: projectId}));\n    }\n\n    handleLabelChange(labelId) {\n        this.updateTask(Object.assign(this.state.task, {label_id: labelId}));\n    }\n\n    displayDuration(task) {\n        let date = new DateHelper();\n        const durationInSeconds = date.mysqlToSeconds(task.end_time) - date.mysqlToSeconds(task.start_time);\n        return date.durationForDisplay(durationInSeconds);\n    }\n\n    // @param string mysqlDateTime\n    displayTime(mysqlDateTime) {\n        let date = new DateHelper();\n        if (mysqlDateTime && mysqlDateTime.indexOf('1970') === -1) {\n            return date.getTimeOnly(mysqlDateTime);\n        }\n        return '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.task !== this.state.task) {\n            this.setState({task: nextProps.task});\n        }\n    }\n\n    componentDidMount() {\n        const p = this.props;\n        const isActiveTask = p.isActiveTask !== undefined ? p.isActiveTask : false;\n        this.setState({task: p.task, isActiveTask});\n    }\n\n    render() {\n        const props = this.props;\n        const task = this.state.task;\n        return (\n            <li className=\"timer-active-task-row\" >\n                <div className=\"ttr-left\">\n                    <div className=\"ttr-description-wrapper\" >\n                        {\n                            this.state.showInput === false \n                                ?   <div className='ttr-description'\n                                        onClick={ this.showInput }>{ task.description ? task.description : 'Type task description...' }</div>\n                                : \n                                    <input \n                                        autoFocus\n                                        size={ task.description ? task.description.length : 15 }\n                                        className={ 'ttr-description-input ' + (this.state.showExtras ? ' ttr-description-input-active' : '')}\n                                        type=\"text\" \n                                        onChange={ this.handleDescriptionChange } \n                                        onBlur={ this.handleDescriptionOnBlur }\n                                        value={ task.description }\n                                        placeholder=\"Type task description...\"\n                                    />\n                        }\n                    </div>\n                </div>\n                \n                <div className=\"ttr-active-right\">\n                    <DropDown \n                        selected={ task.project_id } \n                        handleChange={ this.handleProjectChange } \n                        options={ props.projects }\n                        role=\"project-select\"\n                    />\n                    <DropDown \n                        selected={ task.label_id } \n                        handleChange={ this.handleLabelChange } \n                        options={ props.labels } \n                        role=\"label-select\"\n                    />\n                    <div className=\"ttr-last\">\n                        <div className=\"ttr-display-timer\">\n                            { TaskHelper.isStarted(task) ? <DisplayTimer startTime={task.start_time} /> : this.displayDuration(task) }\n                        </div> \n                        <div className=\"ttr-actions\">\n                            {\n                                ! TaskHelper.isStarted(task)\n                                    ? \n                                        <div \n                                            className=\"ttr-start-button\"\n                                            onClick={this.startTimer}>\n                                            <FaPlay size={15} />\n                                        </div>\n                                    : \n                                        <div \n                                            className=\"ttr-stop-button\"\n                                            onClick={this.stopTimer}>\n                                            <FaStop size={15} />\n                                        </div>\n                            }\n                        </div>\n                    </div>\n                </div>\n            </li>\n        );\n    }\n    \n};\n\nexport default ActiveTaskRow;","import React from 'react';\nimport DropDown from './dropdown.jsx';\nimport DisplayTimer from './timer.jsx';\nimport DateHelper from '../../core/Helpers/DateHelper';\nimport TaskHelper from '../../core/Helpers/TaskHelper';\n\nimport { MdDelete } from 'react-icons/md';\n\nimport { FaStop, FaPlay } from 'react-icons/fa';\n\n\n\n// const getProjectName = (projectId, projects) => {\n//\n//     for (let i=0; i < projects.length; i++) {\n//         let project = projects[i];\n//         if (project.id === projectId) {\n//             return project.name;\n//         }\n//     }\n//\n//     return 'no project';\n// };\n//\n// const getLabelName = (labelId, labels) => {\n//\n//     for (let i=0; i < labels.length; i++) {\n//         let label = labels[i];\n//         if (label.id === labelId) {\n//             return label.name;\n//         }\n//     }\n//\n//     return '';\n// };\n\nclass TaskRow extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isActiveTask: false,\n            showInput: false,\n            showExtras: false,\n            descriptionChanged: false,\n            task: {\n                description: '',\n                start_time: 0,\n            },\n        }\n\n        this.date = new DateHelper();\n\n        this.createTask                 = this.createTask.bind(this);\n        this.updateTask                 = this.updateTask.bind(this);\n        this.toggleTimer                = this.toggleTimer.bind(this);\n        this.handleProjectChange        = this.handleProjectChange.bind(this);\n        this.handleLabelChange          = this.handleLabelChange.bind(this);\n        this.handleDescriptionChange    = this.handleDescriptionChange.bind(this);\n        this.handleDescriptionOnBlur    = this.handleDescriptionOnBlur.bind(this);\n        this.showInput                  = this.showInput.bind(this);\n        this.hideInput                  = this.hideInput.bind(this);\n        this.showExtras                  = this.showExtras.bind(this);\n        this.hideExtras                  = this.hideExtras.bind(this);\n    }\n\n    showExtras() {\n        console.log('showExtras');\n        this.setState({showExtras: true});\n    }\n\n    hideExtras() {\n        console.log('hideExtras');\n        this.setState({showExtras: false});\n    }\n\n    handleDescriptionChange(event) {\n        const task = this.state.task;\n        task.description = event.target.value;\n\n        this.setState({task, descriptionChanged: true});\n    }\n\n    showInput() {\n        this.setState({showInput: true});\n    }\n\n    hideInput() {\n        this.setState({showInput: false});\n    }\n\n    handleDescriptionOnBlur(event) {\n        this.hideInput();\n\n        if (this.state.descriptionChanged) {\n            this.setState({descriptionChanged: false});        \n            this.updateTask();        \n        }\n    }\n\n    createTask(task={}) {\n        console.log('task row create', task);\n        if (Object.keys(task).length > 0) {\n            this.props.createTask(task);\n            return;\n        }\n\n        this.props.createTask(this.state.task);\n    }\n\n    updateTask(task={}) {\n        let t;\n        if (Object.keys(task).length > 0) {\n            t = Object.assign({}, task);\n        } else {\n            t = Object.assign({}, this.state.task);\n        }\n\n        if (TaskHelper.hasNotBeenCreated(t)) {\n            this.createTask(task);\n            return;\n        }\n\n        this.props.updateTask(t, this.state.isActiveTask);\n    }\n\n    toggleTimer() {\n\n        let task            = Object.assign({}, this.state.task);\n        const date          = new Date();\n\n        if ( ! TaskHelper.isStarted(task) ) {\n            task.start_time = this.date.toMysqlDateTime(date);\n            this.updateTask(task);\n            return;\n        }\n\n        task.end_time = this.date.toMysqlDateTime(date);\n        this.updateTask(task);\n    }\n\n    handleProjectChange(projectId) {\n        this.updateTask(Object.assign(this.state.task, {project_id: projectId}));\n    }\n\n    handleLabelChange(labelId) {\n        this.updateTask(Object.assign(this.state.task, {label_id: labelId}));\n    }\n\n    displayDuration(task) {\n        let date = new DateHelper();\n        const durationInSeconds = date.mysqlToSeconds(task.end_time) - date.mysqlToSeconds(task.start_time);\n        return date.durationForDisplay(durationInSeconds);\n    }\n\n    // @param string mysqlDateTime\n    displayTime(mysqlDateTime) {\n        let date = new DateHelper();\n        if (mysqlDateTime && mysqlDateTime.indexOf('1970') === -1) {\n            return date.getTimeOnly(mysqlDateTime);\n        }\n        return '';\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.task !== this.state.task) {\n            this.setState({task: nextProps.task});\n        }\n    }\n\n    componentDidMount() {\n        const p = this.props;\n        const isActiveTask = p.isActiveTask !== undefined ? p.isActiveTask : false;\n        this.setState({task: p.task, isActiveTask});\n    }\n\n    render() {\n        const props = this.props;\n        const task = this.state.task;\n        return (\n            <li \n                onMouseOver={this.showExtras} \n                onMouseLeave={this.hideExtras}\n                className={(props.isActiveTask ? 'timer-active-task-row ' : 'timer-task-row ') + (this.state.showExtras ? ' timer-task-row-active' : '') } \n            >\n\n                <div className=\"ttr-left\">\n                        <div className=\"ttr-description-wrapper\" >\n                            {\n                                this.state.showInput === false \n                                ?   <div className='ttr-description'\n                                        onClick={this.showInput}>{task.description ? task.description : (props.isActiveTask ? 'Type task description...' : 'no description')}</div>\n                                : \n                                    <input \n                                        autoFocus\n                                        size={ task.description ? task.description.length : 15 }\n                                        className={ 'ttr-description-input ' + (this.state.showExtras ? ' ttr-description-input-active' : '')}\n                                        type=\"text\" \n                                        onChange={ this.handleDescriptionChange } \n                                        onBlur={ this.handleDescriptionOnBlur }\n                                        value={ task.description }\n                                        placeholder={props.isActiveTask ? 'Type task description...' : 'no description'}\n                                    />\n                            }\n                            \n                        </div>\n\n                        {   task.project_id \n                                ?\n                                <DropDown \n                                    selected={ task.project_id } \n                                    handleChange={ this.handleProjectChange } \n                                    options={ props.projects }\n                                    role=\"project-select\"\n                                />\n                                : \n                                (this.state.showExtras\n                                    ? \n                                    <DropDown \n                                        selected={ task.project_id } \n                                        handleChange={ this.handleProjectChange } \n                                        options={ props.projects }\n                                        role=\"project-select\"\n                                    />\n                                    : ''\n                                )\n                        }\n                        \n                </div>\n                \n                <div className=\"ttr-right\">\n                    {   task.label_id \n                                ?\n                                <DropDown \n                                    selected={ task.label_id } \n                                    handleChange={ this.handleLabelChange } \n                                    options={ props.labels } \n                                    role=\"label-select\"\n                                />\n                                : \n                                (this.state.showExtras\n                                    ? \n                                    <DropDown \n                                        selected={ task.label_id } \n                                        handleChange={ this.handleLabelChange } \n                                        options={ props.labels } \n                                        role=\"label-select\"\n                                    />\n                                    : <div style={{width: '100px'}}></div>\n                                )\n                        }\n                    <div className=\"ttr-last\">\n                        <div className=\"ttr-times\" >\n                            { ! props.isActiveTask \n                                ? <span>{this.displayTime(task.start_time)} - {this.displayTime(task.end_time)}</span> \n                                : ''\n                            }\n                        </div>\n                        <div className=\"ttr-display-timer\">\n                            { props.isActiveTask && TaskHelper.isStarted(task)\n                                ? <DisplayTimer startTime={task.start_time} />\n                                : this.displayDuration(task)\n                            }\n                        </div> \n                        <div className=\"ttr-actions\">\n                            { props.isActiveTask \n                                ? <div \n                                        className={TaskHelper.isStarted(task) ? 'ttr-stop-button' : 'ttr-start-button'}\n                                        onClick={this.toggleTimer}>\n                                        {TaskHelper.isStarted(task) ? <FaStop size={15} /> : <FaPlay size={15}/>}\n                                    </div>\n                                : ''\n                            }\n                            <span \n                                className=\"ttr-delete\"\n                                onClick={ () => props.deleteTask(task.id) }\n                            >\n                                <MdDelete size={20} />\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                \n            </li>\n        );\n    }\n    \n};\n\nexport default TaskRow;","import React from 'react';\n\nconst LoadingAnimation = (props) => {\n    return (\n        <div className=\"loading-overlay\">\n            <div className=\"loading-container\">\n                <div>Loading</div>\n                <div className=\"lds-ellipsis\">\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                    <div></div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default LoadingAnimation;","import axios from 'axios';\nimport qs from 'qs';\n\n\nexport default {\n\n\t/**\n\t * Send a Get request.\n\t *\n\t * @param {object} data\n\t */\n\tget(url, urlencode=true) {\n\t\treturn this.send( url, 'get', {}, urlencode);\n\t},\n\n\t/**\n\t * Send a POST request.\n\t *\n\t * @param {object} data\n\t */\n\tpost(url, data, urlencode=true ) {\n\t\treturn this.send(url, 'post', data, urlencode);\n\t},\n\n\t/**\n\t * Send a PUT request.\n\t *\n\t * @param {object} data\n\t */\n\tput(url, data, urlencode=true ) {\n\t\treturn this.send(url, 'put', data, urlencode);\n\t},\n\n\t/**\n\t * Send a DELETE request.\n\t *\n\t * @param {object} data\n\t */\n\tdelete(url, data, urlencode=true ) {\n\t\treturn this.send(url, 'delete', data, urlencode);\n\t\t// Note: When sending 'params' instead of data, Axios will add ?id=177 to this.url. (If you data is {id: 177}).\n\t\t// And then if using Express you can get the params in the query (req.query.id).\n\t},\n\n\tsend( url, requestType, data={}, urlencode=true ) {\n\n\t\tif ( data.length > 0 && urlencode === true) {\n\t\t\tdata = qs.stringify(data);\n\t\t}\n\n\t\treturn new Promise(\n\t\t\t( resolve, reject ) => {\n\t\t\t\taxios.defaults.headers['X-Requested-With'] = 'XMLHttpRequest'; // Tell server that this is a ajax request.\n\t\t\t\ttry {\n\t\t\t\t\tconst token = document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content');\n\t\t\t\t\tif (token) {\n\t\t\t\t\t\taxios.defaults.headers['CSRF-Token'] = token;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log('No csrf token found. ', err);\n\t\t\t\t}\n\n\t\t\t\taxios.defaults.withCredentials = true; // Send cookie to server.\n\t\t\t\taxios[ requestType.toLowerCase() ]( url, data )\n\t\t\t\t\t.then(response => resolve(response.data))\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (error.response) {\n\t\t\t\t\t\t\t// The request was made and the server responded with a status code\n\t\t\t\t\t\t\t// that falls out of the range of 2xx\n\t\t\t\t\t\t\t// console.log(error.response.data);\n\t\t\t\t\t\t\t// console.log(error.response.status);\n\t\t\t\t\t\t\t// console.log(error.response.headers);\n\n\t\t\t\t\t\t\t// If server session expired then just redirect to login page.\n\t\t\t\t\t\t\tconst status = error.response.status;\n\t\t\t\t\t\t\tif ( status === 401 || status === 403 || status === 419) {\n\t\t\t\t\t\t\t\tconsole.log('Ajax error: ', error);\n\t\t\t\t\t\t\t\twindow.location.href = '/login';\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else if (status === 422) {\n\t\t\t\t\t\t\t\treject( {validationErrors: error.response.data.errors});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treject( error.response.data );\n\t\t\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\t\t} else if (error.request) {\n\t\t\t\t\t\t// The request was made but no response was received\n\t\t\t\t\t\t// `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n\t\t\t\t\t\t// http.ClientRequest in node.js\n\t\t\t\t\t\tconsole.log(error.request);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t// Something happened in setting up the request that triggered an Error\n\t\t\t\t\t\tconsole.log('Error', error.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(error.config);\n\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t});\n\t},\n};\n","import React from 'react';\nimport ActiveTaskRow from './active-task-row.jsx';\nimport TaskRow from './task-row.jsx';\nimport LoadingAnimation from '../shared/loadingAnimation';\n\nimport Ajax from '../../core/Helpers/AjaxHelper';\nimport DateHelper from '../../core/Helpers/DateHelper';\nimport TaskHelper from '../../core/Helpers/TaskHelper';\n\nimport { CSSTransition } from 'react-transition-group';\n\nvar emptyTask = {\n    description: '',\n};\n\nconst emptyLabel = {\n    id: 0,\n    name: 'none',\n};\n\nconst emptyProject = {\n    id: 0,\n    name: 'none',\n};\n\nclass Timer extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: true,\n            tasks: [],\n            activeTask: Object.assign({}, emptyTask),\n            projects: [],\n            labels: [],\n        };\n\n        this.ajaxUrl = '/app/tasks/';\n        this.date = new DateHelper();\n\n        this.createTask = this.createTask.bind(this);\n        this.updateTask = this.updateTask.bind(this);\n        this.getTasks = this.getTasks.bind(this);\n        this.getActiveTask = this.getActiveTask.bind(this);\n        this.deleteTask = this.deleteTask.bind(this);\n    }\n\n    getTasks() {\n        Ajax.get(this.ajaxUrl)\n            .then(res => this.setState({tasks: TaskHelper.fillDefaultValues(res.tasks), loading: false }))\n            .catch(err => console.log('Could not fetch tasks. Error: ', err));\n    }\n\n    getActiveTask() {\n        Ajax.get(this.ajaxUrl + 'active')\n            .then(res => {\n\n                if (res.task === undefined) {\n                    this.setState({ activeTask: Object.assign({}, emptyTask) });\n                    return;\n                }\n\n                this.setState({ activeTask: Object.assign({}, res.task) });\n            })\n            .catch(err => console.log('Could not fetch active task. Error: ', err));\n    }\n    \n    createTask(task) {\n        \n        if (task.id)\n            return;\n\n        // this.setState({activeTask: task});\n\n        Ajax.post(this.ajaxUrl, task)\n            .then(res => this.setState( {activeTask: {task, ...res.task}} ))\n            .catch(err => console.log('Task could not be created. Error: ', err));\n    }\n\n    updateTask(task, isActiveTask=false) {\n\n        if (!task.id)\n            return;\n\n        this.setState((currentState) => {\n\n            if ( isActiveTask ) {\n                if (TaskHelper.isDone(task)) {\n                    return {\n                        tasks: [task].concat(currentState.tasks),\n                        activeTask: Object.assign({}, emptyTask),\n                    };\n                }\n\n                return {\n                    activeTask: task,\n                };\n            }\n\n            return {\n                tasks: currentState.tasks.map((t, i) => {\n                    if (task.id !== t.id)\n                        return t;\n\n                    return task;\n                }),\n            };\n\n        });\n\n        // Update server.\n        Ajax.put(this.ajaxUrl + task.id, task)\n            .catch(err => console.log('Task could not be updated. Error: ', err));\n    }\n\n    deleteTask(id) {\n\n        // todo handle activeTask as well.\n        this.setState((currentState) => {\n            const tasks = currentState.tasks.filter((task) => task.id !== id);\n            return {\n                tasks,\n            }\n        });\n\n        Ajax.delete(this.ajaxUrl + id, {})\n            .catch(err => console.log('Task could not be deleted. Error: ', err));\n    }\n\n    componentDidMount() {\n        this.getTasks();\n        this.getActiveTask();\n\n        Ajax.get('/app/projects')\n            .then(res => {\n                let projects = res.projects;\n                projects.unshift(emptyProject);\n                this.setState({projects})\n            })\n            .catch(err => console.log(err));\n\n        Ajax.get('/app/labels')\n            .then(res => {\n                let labels = res.labels;\n                labels.unshift(emptyLabel);\n                this.setState({labels})\n            })\n            .catch(err => console.log(err));\n    }\n\n    render() {\n\n        if (this.state.loading) {\n            return (<LoadingAnimation/>);\n        }\n\n        let tasksRows = [];\n        let dateKey;\n        const tasks = TaskHelper.sortTasksByDate(this.state.tasks);\n\n        for (dateKey in tasks) {\n            if ( ! tasks.hasOwnProperty(dateKey) ) {\n                continue;\n            }\n\n            tasksRows.push(\n                <li key={dateKey} className='tasks-date-heading'>\n                    <div><h3>{this.date.formatDateHeading(dateKey)}</h3></div>\n                    <div><h3>{TaskHelper.dailyTotal(tasks[dateKey])}</h3></div>\n                </li>\n            );\n            tasksRows.push(tasks[dateKey].map((t, i) => \n                <TaskRow \n                    task={t} \n                    projects={this.state.projects} \n                    labels={this.state.labels} \n                    key={t.id} \n                    updateTask={this.updateTask}\n                    deleteTask={this.deleteTask}\n                />\n            ));\n        }\n\n        const activeTask = this.state.activeTask;\n\n        return (\n            <CSSTransition\n                    in={true}\n                    appear={true}\n                    timeout={300}\n                    classNames=\"fade\"\n                >\n                <div className='tasks-main'>\n                    <div>\n                        <ul className=\"tasks-rows\" >\n                            <ActiveTaskRow \n                                task={activeTask} \n                                projects={this.state.projects} \n                                labels={this.state.labels} \n                                key={activeTask.id} \n                                createTask={this.createTask} \n                                updateTask={this.updateTask}\n                                deleteTask={this.deleteTask}\n                                isActiveTask='true'\n                            />\n                        </ul>\n                    </div>\n                    <div>\n                        <ul className=\"tasks-rows\">\n                            {tasksRows}\n                        </ul>       \n                    </div>\n                </div>\n            </CSSTransition>\n        );\n    }\n}\n\nexport default Timer;","import React from 'react';\n\nimport Ajax from '../../core/Helpers/AjaxHelper';\n\nimport { CSSTransition } from 'react-transition-group';\n\nconst LineChart = require(\"react-chartjs\").Line;\n\nclass Reports extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: {},\n        }\n    }\n\n    componentDidMount() {\n        Ajax.post('/app/reports/stats', {'action': 'past-two-weeks'})\n            .then(res => {\n                console.log(res);\n                this.setState({data: res.data});\n            })\n            .catch(err => console.log(err));\n    }\n\n    render() {\n    \n        return (\n        <CSSTransition\n            in={true}\n            appear={true}\n            timeout={300}\n            classNames=\"fade\"\n            >\n            <div>\n                <div className='main-header'>\n                    <h1>Reports</h1>\n                </div>\n                { \n                    this.state.data.labels !== undefined \n                        ? <LineChart data={this.state.data} width=\"1000\" height=\"300\" /> \n                        : ''\n                }\n            </div>\n        </CSSTransition>\n        );\n    }\n};\n\nexport default Reports;","import React from 'react';\n\nimport { FaTrash, FaEdit } from 'react-icons/fa';\n\nconst RowActions = (props) => (\n    <td className='listing-td-actions'>\n        <div onClick={() => props.delete(props.id)}>\n            <FaTrash size={20}/>\n        </div>\n        <div style={{paddingTop: '6px'}}onClick={() => props.edit(props.id)}>\n            <FaEdit size={20}/>\n        </div>\n    </td>\n);\n\nexport default RowActions;","import React from 'react';\n\nimport RowActions from './RowActions';\nimport LoadingAnimation from '../loadingAnimation';\n\nconst List = (props) => { \n\n    if (props.loading) {\n        return (<LoadingAnimation/>);\n    }\n    \n    if (props.data.length < 1) {\n        return (<div>You don\\'t have any projects yet.</div>);\n    }\n    \n    return (\n        <div className='listing-table-wrapper'>\n            <table className='listing-table' cellSpacing='0'>\n                { props.config.head !== true \n                    ? <thead></thead>\n                    : \n                    <thead>\n                        <tr>\n                            {\n                                props.config.columns.map(c => <th key={c.name}>{c.displayName}</th>)\n                            }\n                        </tr>\n                    </thead>\n                }\n                <tbody>\n                    {\n                        props.data.map(v => \n                            <tr key={v.id}>\n                                {\n                                    props.config.columns.map(c => {\n\n                                        let item = '';\n                                        if (c.name.indexOf('.') !== -1) {\n\n                                            let keys = c.name.split('.');\n                                            for (let i=0; i < keys.length; i++) {\n\n                                                let key = keys[i];\n                                                if (!item && v[key] !== undefined && v[key] !== null) {\n                                                    item = v[key];\n                                                } else if (item[key] !== undefined) {\n                                                    item = item[key];\n                                                } else {\n                                                    item = '';\n                                                    break;\n                                                }\n                                            }\n                                        } else {\n                                            if (v[c.name] !== undefined) {\n                                                item = v[c.name];\n                                            }\n                                        }\n                                        let style = {};\n                                        if (c.size !== undefined) {\n                                            style = {width: c.size + '%'};\n                                        }\n                                        \n                                        return (\n                                            <td key={c.name} style={style}>\n                                                { props.config.project && c.name === 'name' && v.color.value\n                                                    ? \n                                                        <div className='listing-project-color-wrapper'>\n                                                            <span \n                                                                className='listing-project-color'\n                                                                style={{background: `hsl(${v.color.value})`}}>\n                                                            </span>\n                                                        </div>\n                                                    : ''\n                                                }\n                                                <div className='listing-item-wrapper'>{item}</div>\n                                                \n                                            </td>\n                                        );\n                                    })\n                                }\n                                <RowActions id={v.id} edit={props.edit} delete={props.delete} />\n                            </tr>\n                        )\n                    }\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default List;\n","import React from 'react';\n\nimport { FaCheck } from 'react-icons/fa';\n\n\nconst ColorPalette = (props) => (\n    <div className=\"color-palette\">\n        { props.colors.map(c => (\n            <div \n                key={c.id}\n                className='color-swatch' \n                onClick={() => props.handleChange(c.id)} \n                style={{ backgroundColor: `hsl(${ c.value })` }}\n            >\n                { c.id === props.selected ? <FaCheck /> : '' }\n            </div>\n            ))\n        }\n    </div>\n);\n\nexport default ColorPalette;\n\n        ","import React from 'react';\n\nimport { FaTimes } from 'react-icons/fa';\n\n\nconst ConfirmDelete = (props) => {\n    return (\n        <div>\n            <div className='popup-delete box-shadow-heavy' >\n                <div className=\"popup-form-row-1\">\n                    <h3 className=\"popup-heading\">{props.text}</h3>\n                    <div className=\"popup-close\" onClick={props.close} >\n                        <FaTimes size={20}/>\n                    </div>\n                </div>\n                <div className=\"popup-delete-row-2\">\n                    <div className=\"button delete-button\" onClick={props.delete}>Delete</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ConfirmDelete;","import React from 'react';\nimport Ajax from '../../core/Helpers/AjaxHelper';\n\nimport List from '../shared/listing/table';\nimport ColorPalette from '../shared/colorPalette';\nimport ConfirmDelete from '../shared/popups/ConfirmDelete';\nimport LoadingAnimation from '../shared/loadingAnimation';\n\nimport { FaTimes, FaCaretDown, FaAngleDown } from 'react-icons/fa';\n\nimport { CSSTransition } from 'react-transition-group';\n\nconst emptyProject = {\n    name: '',\n    client_id: 0,\n    color_id: 1,\n};\n\nclass Projects extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: true,\n            projects: [],\n            colors: [],\n            clients: [],\n            showPopup: false, // Valid values are: create, edit, delete and false.\n            showClientDropdown: false,\n            showColorPalette: false,\n            activeProject: {...emptyProject},\n            savingToDb: false,\n            errors: {},\n            tableConfig: {\n                head: true,\n                project: true,\n                columns: [\n                    {name: 'name', displayName: 'Project', size: 20},\n                    {name: 'client.name', displayName: 'Client', size: 20},\n                    // {name: 'total', displayName: 'Total'},\n    \n                ]\n            },\n        }\n\n        this.showPopup = this.showPopup.bind(this);\n        this.delete = this.delete.bind(this);\n        this.edit = this.edit.bind(this);\n        this.create = this.create.bind(this);\n        this.store = this.store.bind(this);\n        this.save = this.save.bind(this);\n        this.hidePopup = this.hidePopup.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.changeColor = this.changeColor.bind(this);\n        this.getColorById = this.getColorById.bind(this);\n        this.getColorValueById = this.getColorValueById.bind(this);\n        this.toggleColorPalette = this.toggleColorPalette.bind(this);\n        this.handleValidationErrors = this.handleValidationErrors.bind(this);\n        this.clearValidationErrors = this.clearValidationErrors.bind(this);\n        this.getClientById = this.getClientById.bind(this);\n        this.getClientNameById = this.getClientNameById.bind(this);\n        this.changeClient = this.changeClient.bind(this);\n        this.toggleClientDropdown = this.toggleClientDropdown.bind(this);\n        this.hideDropdowns = this.hideDropdowns.bind(this);\n        this.confirmDelete = this.confirmDelete.bind(this);\n    }\n\n    handleChange(event) {\n        let activeProject = {...this.state.activeProject};\n        activeProject.name = event.target.value;\n        this.setState({activeProject});\n    }\n\n    confirmDelete(id) {\n        this.showPopup('delete', id);\n    }\n\n    showPopup(type, id=0) {\n        let newState = {\n            showPopup: type,\n        };\n\n        if (id !== 0) {\n            newState.activeProject = this.state.projects.filter(c => c.id === id)[0];\n        }\n        this.setState(newState);\n    }\n\n    hidePopup() {\n        this.setState({\n            showPopup: false,\n            showColorPalette: false,\n            showClientDropdown: false,\n            errors: {},\n            activeProject: {...emptyProject},\n        });\n    }\n\n    hideDropdowns() {\n        if (this.state.showColorPalette === true) {\n            this.setState({showColorPalette: false});\n        }\n\n        if (this.state.showClientDropdown === true) {\n            this.setState({showClientDropdown: false});\n        }\n    }\n\n    toggleColorPalette() {\n        this.setState({showColorPalette: !this.state.showColorPalette});\n    }\n\n    changeColor(colorId) {\n        let activeProject = {...this.state.activeProject};\n        activeProject.color_id = colorId;\n        activeProject.color = this.getColorById(colorId);\n        this.toggleColorPalette();\n        this.setState({activeProject});\n    }\n\n    getColorById(colorId) {\n        const colors = this.state.colors.filter(c => c.id === colorId);\n\n        if (colors.length > 0) {\n            return colors[0];\n        }\n    }\n\n    getColorValueById(colorId) {\n        const color = this.getColorById(colorId);\n\n        if (color) {\n            return color['value'];\n        }\n\n        return '';\n    }\n\n    toggleClientDropdown() {\n        this.setState({showClientDropdown: !this.state.showClientDropdown});\n    }\n\n    changeClient(clientId) {\n        let activeProject = {...this.state.activeProject};\n        activeProject.client = this.getClientById(clientId);\n        activeProject.client_id = clientId;\n        this.toggleClientDropdown();\n        this.setState({activeProject});\n    }\n\n    getClientById(clientId) {\n        const clients = this.state.clients.filter(c => c.id === clientId);\n\n        if (clients.length > 0) {\n            return clients[0];\n        }\n    }\n\n    getClientNameById(clientId) {\n        const client = this.getClientById(clientId);\n        return client['name'];\n    }\n\n    delete() {\n        const id = this.state.activeProject.id;\n        const projects = [...this.state.projects].filter(c => c.id !== id);\n        this.setState({projects});\n        this.hidePopup();\n\n        Ajax.delete('/app/projects/' + id, {})\n            .catch(err => console.log(err));\n    }\n\n    edit(id) {\n        this.showPopup('edit', id);\n    }\n\n    save() {\n\n        if (this.state.activeProject.name === undefined || this.state.activeProject.name === '') {\n            this.handleValidationErrors({validationErrors: {name: 'Please enter a project name'}});\n            return;\n        }\n\n        if (!this.state.activeProject.id) {\n            return this.store();\n        }\n\n        const id = this.state.activeProject.id;\n        const projects = this.state.projects.map(p => {\n            if (id === p.id) {\n                return this.state.activeProject;\n            }\n            return p;\n        });\n        this.setState({projects});\n        this.hidePopup();\n        \n        Ajax.put('/app/projects/' + id, this.state.activeProject)\n            .then(() => this.clearValidationErrors())\n            .catch(err => this.handleValidationErrors(err));\n    }\n\n    create() {\n        this.showPopup('create');\n    }\n\n    store() {\n\n        // Just return if the Create button was already clicked.\n        if (this.state.savingToDb) {\n            return;\n        }\n\n        this.setState({savingToDb: true});\n        Ajax.post('/app/projects/', this.state.activeProject)\n            .then(res => {\n                let projects = [...this.state.projects];\n                projects.push(res.project);\n                this.setState({projects, savingToDb: false}); \n                this.clearValidationErrors();\n                this.hidePopup();\n            })\n            .catch(err => {\n                this.handleValidationErrors(err);\n            })\n            .then(() => this.setState({savingToDb: false}));\n    }\n\n    clearValidationErrors() {\n        this.setState({errors: {}});\n    }\n\n    handleValidationErrors(errors) {\n        if (errors.validationErrors !== undefined) {\n            this.setState({errors: errors.validationErrors});\n        }\n    }\n\n    componentDidMount() {\n        Ajax.get('/app/projects')\n            .then(res => this.setState({projects: res.projects, loading: false}))\n            .catch(err => console.log(err));\n\n        Ajax.get('/app/clients')\n            .then(res => this.setState({clients: res.clients}))\n            .catch(err => console.log(err));\n\n        Ajax.get('/app/colors')\n            .then(res => this.setState({colors: res.colors}))\n            .catch(err => console.log(err));\n    }\n\n    render() {\n\n        if (this.state.loading) {\n            return (<LoadingAnimation/>);\n        }\n        \n        const showPopup = this.state.showPopup;\n\n        return (\n        <CSSTransition\n                in={true}\n                appear={true}\n                timeout={300}\n                classNames=\"fade\"\n                >\n            <div>\n\n                <div className='main-header'>\n                    <h1>Projects</h1>\n                    <div \n                        className=\"button create-button\" \n                        onClick={this.create}>Create Project\n                    </div>\n\n                </div>\n                \n                <div className={ 'popup-overlay ' + (showPopup ? '' : 'popup-hide')}>\n\n                    {\n                        showPopup === 'delete' \n                            ?\n                            <ConfirmDelete \n                                text={`Deleting Project ${this.state.activeProject.name}`}\n                                delete={this.delete}\n                                close={this.hidePopup}\n                            /> \n                            : \n                            <div>\n                                <div className=\"popup-form box-shadow-heavy\" onClick={this.hideDropdowns}>\n                                    <div className=\"popup-form-row-1\">\n                                        <h3 className=\"popup-heading\">{this.state.activeProject.id ? 'Edit' : 'Create'} project</h3>\n                                        <div className=\"popup-close\" onClick={this.hidePopup} ><FaTimes size={20}/></div>\n                                    </div>\n                                    <div className=\"popup-form-row-2\">\n                                        <div>\n                                            <div className='box-shadow-light'>\n                                                <input \n                                                    className=\"popup-input\" \n                                                    type=\"text\"\n                                                    value={this.state.activeProject.name} \n                                                    onChange={this.handleChange}\n                                                    placeholder='Project name...'\n                                                />\n                                                <div className='popup-selected-client-container' onClick={this.toggleClientDropdown}>\n                                                    <div className='popup-selected-client' >\n                                                        { \n                                                            this.state.activeProject.client_id \n                                                                ? this.getClientNameById(this.state.activeProject.client_id)\n                                                                : 'Select Client' \n                                                        }\n                                                    </div>\n                                                    <div className='popup-selected-client-caret'>\n                                                        <FaAngleDown size={20} />\n                                                    </div>\n                                                    {\n                                                        this.state.showClientDropdown \n                                                        ? \n                                                        <div className=\"popup-client-dropdown box-shadow-heavy\">\n                                                            {\n                                                                this.state.clients.length\n                                                                    ? \n                                                                    <ul>\n                                                                        {\n                                                                            this.state.clients.map(c => (\n                                                                                <li \n                                                                                    key={c.id} \n                                                                                    onClick={() => this.changeClient(c.id)}\n                                                                                    className={ c.id === this.state.activeProject.client_id ? 'selected' : '' }\n                                                                                >\n                                                                                    {c.name}\n                                                                                </li>\n                                                                            ))\n                                                                        } \n                                                                    </ul>\n                                                                    : 'No clients'\n                                                            }\n                                                        </div>\n                                                        : ''\n                                                    }\n                                                </div>\n                                            </div>\n                                            <span>{ this.state.errors.name }</span>\n                                        </div> \n                                    </div>\n                                    <div className=\"popup-form-row-3\">\n                                        <div className=\"popup-selected-color-container box-shadow-light\" onClick={this.toggleColorPalette} >\n                                            <div \n                                                className='popup-selected-color' \n                                                style={{background: `hsl(${this.getColorValueById(this.state.activeProject.color_id)})`}}>\n                                            </div>\n                                            <div className='popup-selected-color-container-caret'>\n                                                <FaCaretDown size={15} />\n                                            </div>\n                                            { this.state.showColorPalette \n                                                ? \n                                                <div className=\"popup-color-palette-container box-shadow-heavy\">\n                                                    <ColorPalette \n                                                        selected={this.state.activeProject.color_id} \n                                                        handleChange={this.changeColor} \n                                                        colors={this.state.colors} \n                                                    />\n                                                </div>\n                                                : ''\n                                            }\n                                            \n                                        </div>\n                                        <div>\n                                            {\n                                                this.state.savingToDb \n                                                    ?   \n                                                        <div className=\"button create-button button-disabled\">\n                                                            Creating Project... \n                                                        </div>\n                                                    :\n                                                        <div className=\"button create-button\" onClick={this.save}>\n                                                            {showPopup === 'edit' ? 'Save' : 'Create'} Project\n                                                        </div>\n                                            }\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                                \n                                \n\n                    }\n                    \n                </div>\n                <List \n                    config={this.state.tableConfig} \n                    data={this.state.projects} \n                    edit={this.edit}\n                    delete={this.confirmDelete}\n                />\n            </div>\n        </CSSTransition>\n        );\n    }\n};\n\nexport default Projects;","import React from 'react';\nimport Ajax from '../../core/Helpers/AjaxHelper';\n\nimport { FaTimes } from 'react-icons/fa';\n\nimport List from '../shared/listing/table';\nimport ConfirmDelete from '../shared/popups/ConfirmDelete';\nimport LoadingAnimation from '../shared/loadingAnimation';\n\nimport { CSSTransition } from 'react-transition-group';\n\nconst emptyClient = {\n    name: ''\n};\n\nclass Clients extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: true,\n            clients: [],\n            showPopup: false, // Valid values are: create, edit, delete and false.\n            activeClient: {...emptyClient},\n            storingNewClient: false,\n            tableConfig: {\n                head: false,\n                columns: [\n                    {name: 'name'},\n                ]\n            }\n        }\n\n        this.showPopup = this.showPopup.bind(this);\n        this.deleteClient = this.deleteClient.bind(this);\n        this.editClient = this.editClient.bind(this);\n        this.createClient = this.createClient.bind(this);\n        this.storeClient = this.storeClient.bind(this);\n        this.saveClient = this.saveClient.bind(this);\n        this.hidePopup = this.hidePopup.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.confirmDelete = this.confirmDelete.bind(this);\n\n    }\n\n    handleChange(event) {\n        console.log('hadnle');\n        let client = {...this.state.activeClient};\n        client.name = event.target.value;\n        this.setState({activeClient: client});\n    }\n\n    confirmDelete(id) {\n        this.showPopup('delete', id);\n    }\n\n    showPopup(type, id=0) {\n        let newState = {\n            showPopup: type,\n        };\n\n        if (id !== 0) {\n            newState.activeClient = this.state.clients.filter(c => c.id === id)[0];\n        }\n        this.setState(newState);\n    }\n\n    hidePopup() {\n        this.setState({\n            showPopup: false,\n            activeClient: {...emptyClient},\n        })\n    }\n\n    deleteClient() {\n        const id = this.state.activeClient.id;\n        const clients = [...this.state.clients].filter(c => c.id !== id);\n        this.setState({clients});\n        this.hidePopup();\n\n        Ajax.delete('/app/clients/' + id, {})\n            .catch(err => console.log(err));\n    }\n\n    editClient(id) {\n        this.showPopup('edit', id);\n    }\n\n    saveClient() {\n\n        if (!this.state.activeClient.id) {\n            return this.storeClient();\n        }\n\n        const clients = this.state.clients.map(c => {\n            if (this.state.activeClient.id === c.id) {\n                return this.state.activeClient;\n            }\n            return c;\n        });\n        this.setState({clients});\n        this.hidePopup();\n        \n        Ajax.put('/app/clients/' + this.state.activeClient.id, this.state.activeClient)\n            .catch(err => console.log(err));\n    }\n\n    createClient() {\n        this.showPopup('create');\n    }\n\n    storeClient() {\n\n        // Just return if the Create button was already clicked.\n        if (this.state.storingNewClient) {\n            return;\n        }\n\n        this.setState({storingNewClient: true});\n        Ajax.post('/app/clients/', this.state.activeClient)\n            .then(res => {\n                let clients = [...this.state.clients];\n                clients.push(res.client);\n                this.setState({clients, storingNewClient: false}); \n                this.hidePopup();\n            })\n            .catch(err => console.log(err));\n    }\n\n    componentDidMount() {\n        Ajax.get('/app/clients')\n            .then(res => {\n                this.setState({clients: res.clients, loading: false});\n            })\n            .catch(err => console.log(err));\n    }\n\n    render() {\n\n        if (this.state.loading) {\n            return (<LoadingAnimation/>);\n        }\n\n        const showPopup = this.state.showPopup;\n        return (\n        <CSSTransition\n            in={true}\n            appear={true}\n            timeout={300}\n            classNames=\"fade\"\n            >\n            <div>\n\n                <div className='main-header'>\n                    <h1>Clients</h1>\n                    <div \n                        className=\"button create-button\" \n                        onClick={this.createClient}>Create Client\n                    </div>\n                </div>\n                \n                <div className={ 'popup-overlay ' + (showPopup ? 'popup-show' : 'popup-hide')}>\n\n                    {\n                        showPopup === 'delete' \n                            ? \n                                <ConfirmDelete \n                                    text={`Deleting Client ${this.state.activeClient.name}`}\n                                    delete={this.deleteClient}\n                                    close={this.hidePopup}\n                                /> \n                            : \n                                <div>\n                                    <div className='popup-edit box-shadow-heavy' >\n                                        <div className=\"popup-form-row-1\">\n                                            <h3 className=\"popup-heading\">\n                                                {(this.state.activeClient.id ? 'Edit' : 'Create') + ' Client'}\n                                            </h3>\n                                            <div className=\"popup-close\" onClick={this.hidePopup} >\n                                                <FaTimes size={20}/>\n                                            </div>\n                                        </div>\n                                        <div className='popup-form-row-2'>\n                                            <input \n                                                className=\"popup-input\"\n                                                type=\"text\" \n                                                value={this.state.activeClient.name} \n                                                onChange={this.handleChange} \n                                            />\n                                        </div>\n                                        <div className=\"popup-form-edit-row-3\">\n                                            {\n                                                this.state.storingNewClient\n                                                    ?\n                                                        <div className='button button-disabled'>\n                                                            Creating...\n                                                        </div>\n                                                    :\n                                                        <div \n                                                            className='button create-button' \n                                                            onClick={this.saveClient}>\n                                                            {showPopup === 'edit' ? 'Save' : 'Create'}\n                                                        </div>\n                                            }\n                                        </div>\n                                    </div>\n                                </div>\n\n                    }\n                    \n                </div>\n\n                <List \n                    config={this.state.tableConfig}\n                    data={this.state.clients}\n                    delete={this.confirmDelete}\n                    edit={this.editClient}\n                />\n\n                \n            </div>\n        </CSSTransition>\n        );\n    }\n};\n\nexport default Clients;","import React from 'react';\nimport Ajax from '../../core/Helpers/AjaxHelper';\n\nimport { FaTimes } from 'react-icons/fa';\n\n\nimport List from '../shared/listing/table';\nimport ConfirmDelete from '../shared/popups/ConfirmDelete';\nimport LoadingAnimation from '../shared/loadingAnimation';\n\nimport { CSSTransition } from 'react-transition-group';\n\nconst emptyLabel = {\n    name: ''\n};\n\nclass Labels extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: true,\n            labels: [],\n            showPopup: false, // Valid values are: create, edit, delete and false.\n            activeLabel: {...emptyLabel},\n            storingNewLabel: false,\n            tableConfig: {\n                head: false,\n                columns: [\n                    {name: 'name'},\n                ]\n            }\n        }\n\n        this.showPopup = this.showPopup.bind(this);\n        this.delete = this.delete.bind(this);\n        this.edit = this.edit.bind(this);\n        this.create = this.create.bind(this);\n        this.store = this.store.bind(this);\n        this.save = this.save.bind(this);\n        this.hidePopup = this.hidePopup.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.confirmDelete = this.confirmDelete.bind(this);\n    }\n\n    handleChange(event) {\n        let label = {...this.state.activeLabel};\n        label.name = event.target.value;\n        this.setState({activeLabel: label});\n    }\n\n    confirmDelete(id) {\n        this.showPopup('delete', id);\n    }\n\n    showPopup(type, id=0) {\n        let newState = {\n            showPopup: type,\n        };\n\n        if (id !== 0) {\n            newState.activeLabel = this.state.labels.filter(c => c.id === id)[0];\n        }\n        this.setState(newState);\n    }\n\n    hidePopup() {\n        this.setState({\n            showPopup: false,\n            activeLabel: {...emptyLabel},\n        })\n    }\n\n    delete() {\n        const id = this.state.activeLabel.id;\n        const labels = [...this.state.labels].filter(c => c.id !== id);\n        this.setState({labels});\n        this.hidePopup();\n\n        Ajax.delete('/app/labels/' + id, {})\n            .catch(err => console.log(err));\n    }\n\n    edit(id) {\n        this.showPopup('edit', id);\n    }\n\n    save() {\n        if (!this.state.activeLabel.id) {\n            return this.store();\n        }\n\n        const labels = this.state.labels.map(c => {\n            if (this.state.activeLabel.id === c.id) {\n                return this.state.activeLabel;\n            }\n            return c;\n        });\n        this.setState({labels});\n        this.hidePopup();\n        \n        Ajax.put('/app/labels/' + this.state.activeLabel.id, this.state.activeLabel)\n            .catch(err => console.log(err));\n    }\n\n    create() {\n        this.showPopup('create');\n    }\n\n    store() {\n\n        // Just return if the Create button was already clicked.\n        if (this.state.storingNewLabel) {\n            return;\n        }\n\n        this.setState({storingNewLabel: true});\n        Ajax.post('/app/labels/', this.state.activeLabel)\n            .then(res => {\n                let labels = [...this.state.labels];\n                labels.push(res.label);\n                this.setState({labels, storingNewLabel: false}); \n                this.hidePopup();\n            })\n            .catch(err => console.log(err));\n    }\n\n    componentDidMount() {\n        Ajax.get('/app/labels')\n            .then(res => {\n                this.setState({labels: res.labels, loading: false});\n            })\n            .catch(err => console.log(err));\n    }\n\n    render() {\n        \n        if (this.state.loading) {\n            return (<LoadingAnimation/>);\n        }\n        \n        const showPopup = this.state.showPopup;\n\n        return (\n        <CSSTransition\n            in={true}\n            appear={true}\n            timeout={300}\n            classNames=\"fade\"\n            >\n            <div>\n\n                <div className='main-header'>\n                    <h1>Labels</h1>\n                    <div \n                        className=\"button create-button\" \n                        onClick={this.create}>Create Label\n                    </div>\n                </div>\n                \n                <div className={ 'popup-overlay ' + (showPopup ? 'popup-show' : 'popup-hide')}>\n\n                    {\n                        showPopup === 'delete' \n                            ? \n                                <ConfirmDelete \n                                    text={`Deleting Label ${this.state.activeLabel.name}`}\n                                    delete={this.delete}\n                                    close={this.hidePopup}\n                                /> \n                            : \n                                <div>\n                                    <div className='popup-edit box-shadow-heavy' >\n                                        <div className=\"popup-form-row-1\">\n                                            <h3 className=\"popup-heading\">\n                                                {(this.state.activeLabel.id ? 'Edit' : 'Create') + ' Label'}\n                                            </h3>\n                                            <div className=\"popup-close\" onClick={this.hidePopup} >\n                                                <FaTimes size={20}/>\n                                            </div>\n                                        </div>\n                                        <div className='popup-form-row-2'>\n                                            <input \n                                                className=\"popup-input\"\n                                                type=\"text\" \n                                                value={this.state.activeLabel.name} \n                                                onChange={this.handleChange} \n                                            />\n                                        </div>\n                                        <div className=\"popup-form-edit-row-3\">\n                                            {\n                                                this.state.storingNewLabel\n                                                    ?\n                                                        <div className='button button-disabled'>\n                                                            Creating...\n                                                        </div>\n                                                    :\n                                                        <div \n                                                            className='button create-button' \n                                                            onClick={this.save}>\n                                                            {showPopup === 'edit' ? 'Save' : 'Create'}\n                                                        </div>\n                                            }\n                                        </div>\n                                    </div>\n                                </div>\n\n                    }\n                    \n                </div>\n\n                <List \n                    config={this.state.tableConfig}\n                    data={this.state.labels}\n                    delete={this.confirmDelete}\n                    edit={this.edit}\n                />\n\n                \n            </div>\n        </CSSTransition>\n        );\n    }\n};\n\nexport default Labels;","import React from 'react';\n// import logo from './logo.svg';\nimport './backend/styles/app.scss';\n\nimport { BrowserRouter as Router, Route, NavLink } from 'react-router-dom';\n\nimport Timer from \"./backend/components/tasks\";\nimport Reports from \"./backend/components/reports\";\nimport Projects from \"./backend/components/projects\";\nimport Clients from \"./backend/components/clients\";\nimport Labels from \"./backend/components/labels\";\n\nimport { FaClock, FaChartBar, FaRegFolder, FaUser, FaTags, FaSignOutAlt, FaPowerOff } from 'react-icons/fa';\n\nconst logout = () => window.location = '/logout';\n\n\nconst App = () => (\n    <Router>\n      <div id=\"wrapper\">\n        <aside id=\"sidebar-left\">\n          <div>\n            <h3>T4</h3>\n          </div>\n          <nav>\n            <ul>\n              <li>\n                <NavLink\n                    exact\n                    to=\"/app\"\n                    activeClassName=\"left-nav-active\"\n                >\n                  <FaClock size={20} style={{marginBottom: '5px'}}/>\n                  <span>Timer</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                    to=\"/app/reports\"\n                    activeClassName=\"left-nav-active\"\n                >\n                  <FaChartBar size={20} style={{marginBottom: '5px'}}/>\n                  <span>Reports</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                    to=\"/app/projects\"\n                    activeClassName=\"left-nav-active\"\n                >\n                  <FaRegFolder size={20} style={{marginBottom: '5px'}}/>\n                  <span>Projects</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                    to=\"/app/clients\"\n                    activeClassName=\"left-nav-active\"\n                >\n                  <FaUser size={20} style={{marginBottom: '5px'}}/>\n                  <span>Clients</span>\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                    to=\"/app/labels\"\n                    activeClassName=\"left-nav-active\"\n                >\n                  <FaTags size={20} style={{marginBottom: '5px'}}/>\n                  <span>Labels</span>\n                </NavLink>\n              </li>\n            </ul>\n          </nav>\n          <div onClick={logout} className=\"sidenav-sign-out\">\n            <div>Sign Out</div>\n            <span className=\"sign-out-icon\"><FaSignOutAlt size={20} /></span>\n            <span className=\"power-out-icon\"><FaPowerOff size={20} /></span>\n          </div>\n        </aside>\n        <main>\n          <Route exact path=\"/app\" component={Timer} />\n          <Route path=\"/app/reports\" component={Reports} />\n          <Route path=\"/app/projects\" component={Projects} />\n          <Route path=\"/app/clients\" component={Clients} />\n          <Route path=\"/app/labels\" component={Labels} />\n        </main>\n      </div>\n    </Router>\n);\n// function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}