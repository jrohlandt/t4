(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,a){e.exports=a(89)},49:function(e,t,a){},50:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(21),r=a.n(s),o=(a(49),a(50),a(20)),l=a(17),c=a(13),u=a(4),d=a(5),h=a(8),p=a(7),m=a(2),v=a(9),b=a(3),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={expand:!1},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.toggleDropdown=a.toggleDropdown.bind(Object(m.a)(a)),a.handleOnBlur=a.handleOnBlur.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"toggleDropdown",value:function(){this.setState({expand:!this.state.expand})}},{key:"handleOnBlur",value:function(){var e=this;console.log("on blur"),setTimeout((function(){return e.setState({expand:!1})}),0)}},{key:"handleChange",value:function(e){this.setState({expand:!1}),this.props.handleChange(e)}},{key:"render",value:function(){var e,t,a,n=this,s=this.props,r=s.options.map((function(a,r){return 0!==s.selected&&s.selected===a.id&&(e=a.name,void 0!==a.color&&(t=a.color.value)),i.a.createElement("li",{key:a.id,onClick:function(){return n.handleChange(a.id)}},void 0!==a.color?i.a.createElement("span",{style:{marginRight:"10px",width:"8px",height:"8px",background:"hsl(".concat(a.color.value)},className:"ttr-dropdown-project-dot"}):"",a.name.length>25?a.name.substring(0,25)+"...":a.name)}));switch(s.role){case"project-select":a=i.a.createElement(b.g,{size:14});break;case"label-select":a=i.a.createElement(b.m,{size:14});break;default:a=i.a.createElement(b.g,{size:14})}return i.a.createElement("div",{className:(e?"ttr-dropdown ttr-"+s.role+" ":"ttr-dropdown ttr-no-selected ")+(this.state.expand?"ttr-dropdown-expanded":"")},i.a.createElement("div",{className:"ttr-dropdown-list-wrapper",tabIndex:0,onClick:this.toggleDropdown,onBlur:this.handleOnBlur},i.a.createElement("div",{className:"ttr-dropdown-icon",style:t?{color:"hsl(".concat(t,")")}:{}},e?"project-select"===s.role?i.a.createElement("div",null,i.a.createElement("span",{style:{background:t?"hsl(".concat(t,")"):""},className:"ttr-dropdown-project-dot"}),e):e:a),this.state.expand?i.a.createElement("div",{className:"ttr-dropdown-list box-shadow-heavy"},i.a.createElement("ul",null,r)):""))}}]),t}(i.a.Component),g=function(){function e(){Object(u.a)(this,e),this.dayNames=[{name:"sunday",shortName:"sun"},{name:"monday",shortName:"mon"},{name:"tuesday",shortName:"tue"},{name:"wednesday",shortName:"wed"},{name:"thursday",shortName:"thu"},{name:"friday",shortName:"fri"},{name:"saturday",shortName:"sat"}],this.monthNames=[{name:"january",shortName:"jan"},{name:"february",shortName:"feb"},{name:"march",shortName:"mar"},{name:"april",shortName:"apr"},{name:"may",shortName:"may"},{name:"june",shortName:"jun"},{name:"july",shortName:"jul"},{name:"august",shortName:"aug"},{name:"september",shortName:"sep"},{name:"october",shortName:"oct"},{name:"november",shortName:"nov"},{name:"december",shortName:"dec"}]}return Object(d.a)(e,[{key:"getTimeOnly",value:function(e){return this.toMysqlDateTime(new Date(e),!0)}},{key:"toMysqlDateTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getHours()<10?"0"+e.getHours().toString():e.getHours(),n=e.getMinutes()<10?"0"+e.getMinutes().toString():e.getMinutes();if(t)return a+":"+n;var i=e.getSeconds()<10?"0"+e.getSeconds().toString():e.getSeconds(),s=e.getMonth()+1<10?"0"+(e.getMonth()+1).toString():e.getMonth()+1,r=e.getDate()<10?"0"+e.getDate().toString():e.getDate();return e.getFullYear()+"-"+s+"-"+r+" "+a+":"+n+":"+i}},{key:"toMysqlDate",value:function(e){var t=e.getMonth()+1<10?"0"+(e.getMonth()+1).toString():e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate().toString():e.getDate();return e.getFullYear()+"-"+t+"-"+a}},{key:"mysqlToSeconds",value:function(e){return new Date(e).getTime()/1e3}},{key:"durationInSeconds",value:function(e,t){return this.mysqlToSeconds(t)-this.mysqlToSeconds(e)}},{key:"durationForTitle",value:function(e){var t="";e=Math.floor(e/60);var a=Math.round(e%60);e=Math.floor(e/60);var n=Math.round(e%24);return e=Math.floor(e/24),n>0&&(t+=n+" h "),a>0&&(t+=a+" min "),t}},{key:"durationForDisplay",value:function(e){var t="",a=Math.round(e%60);e=Math.floor(e/60);var n=Math.round(e%60);e=Math.floor(e/60);var i=Math.round(e%24);return e=Math.floor(e/24),t+=i>0?i<10?"0"+i+":":i+":":"00:",t+=n>0?n<10?"0"+n+":":n+":":"00:",t+=a>0?a<10?"0"+a:a:"00"}},{key:"formatDateHeading",value:function(e){var t=new Date,a=new Date(e),n=this.dayNames[a.getDay()].shortName,i=this.monthNames[a.getMonth()].shortName,s=a.getDate(),r=t.getFullYear()===a.getFullYear()?"":a.getFullYear();return a.getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate()?"today":"".concat(n," ").concat(s," ").concat(i," ").concat(r)}}]),e}(),k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={duration:0,intervalId:0},a.date=new g,a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("timer mounted",this.props.startTime);var t=setInterval((function(){if(console.log("interval "),e.setState({intervalId:t}),0!==e.props.startTime){var a=new Date(e.props.startTime).getTime()/1e3,n=(new Date).getTime()/1e3,i=Math.round(n-a);e.setState({duration:i})}}),1e3)}},{key:"componentWillUnmount",value:function(){console.log("timer clear interval"),clearInterval(this.state.intervalId)}},{key:"render",value:function(){return i.a.createElement("div",null,this.date.durationForDisplay(this.state.duration))}}]),t}(i.a.Component);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var j=new(function(){function e(){Object(u.a)(this,e),this.date=new g}return Object(d.a)(e,[{key:"sortTasksByDate",value:function(e){for(var t={},a=0;a<e.length;a++){var n=e[a],i=this.date.toMysqlDate(new Date(n.start_time));t.hasOwnProperty(i)||(t[i]=[]),t[i].push(n)}return t}},{key:"fillDefaultValues",value:function(e){var t=this;return e.map((function(e){return null===e.description&&(e.description=""),t.fixDateTimes(e)}))}},{key:"fixDateTimes",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return e.start_time&&(t.start_time=(new g).toMysqlDateTime(new Date(t.start_time)),e.end_time&&(t.end_time=(new g).toMysqlDateTime(new Date(t.end_time)))),t}},{key:"dailyTotal",value:function(e){for(var t=0,a=0;a<e.length;a++){var n=e[a].start_time,i=e[a].end_time;t+=this.date.durationInSeconds(n,i)}return this.date.durationForDisplay(t)}},{key:"hasNotBeenCreated",value:function(e){return!e.id}},{key:"isStarted",value:function(e){return!!e.start_time&&new Date(e.start_time).getTime()>0}},{key:"isDone",value:function(e){return!!e.end_time&&(this.isStarted(e)&&new Date(e.end_time).getTime()>0)}}]),e}());function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}for(var w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={isActiveTask:!1,showInput:!1,showExtras:!1,descriptionChanged:!1,task:{description:"",start_time:0}},a.date=new g,a.createTask=a.createTask.bind(Object(m.a)(a)),a.updateTask=a.updateTask.bind(Object(m.a)(a)),a.startTimer=a.startTimer.bind(Object(m.a)(a)),a.stopTimer=a.stopTimer.bind(Object(m.a)(a)),a.handleProjectChange=a.handleProjectChange.bind(Object(m.a)(a)),a.handleLabelChange=a.handleLabelChange.bind(Object(m.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(m.a)(a)),a.handleDescriptionOnBlur=a.handleDescriptionOnBlur.bind(Object(m.a)(a)),a.showInput=a.showInput.bind(Object(m.a)(a)),a.hideInput=a.hideInput.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"handleDescriptionChange",value:function(e){var t=this.state.task;t.description=e.target.value,this.setState({task:t,descriptionChanged:!0})}},{key:"showInput",value:function(){this.setState({showInput:!0})}},{key:"hideInput",value:function(){this.setState({showInput:!1})}},{key:"handleDescriptionOnBlur",value:function(e){this.hideInput(),this.state.descriptionChanged&&this.state.task.id&&(this.setState({descriptionChanged:!1}),this.updateTask())}},{key:"createTask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("task row create",e),Object.keys(e).length>0?this.props.createTask(e):this.props.createTask(this.state.task)}},{key:"updateTask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).length>0?O({},e):O({},this.state.task);t.id?this.props.updateTask(t,this.state.isActiveTask):this.createTask(e)}},{key:"startTimer",value:function(){var e=O({},this.state.task);j.isStarted(e)||(e.start_time=this.date.toMysqlDateTime(new Date),this.updateTask(e))}},{key:"stopTimer",value:function(){var e=O({},this.state.task);j.isStarted(e)&&(e.end_time=this.date.toMysqlDateTime(new Date),this.updateTask(e))}},{key:"handleProjectChange",value:function(e){this.updateTask(Object.assign(this.state.task,{project_id:e}))}},{key:"handleLabelChange",value:function(e){this.updateTask(Object.assign(this.state.task,{label_id:e}))}},{key:"displayDuration",value:function(e){var t=new g,a=t.mysqlToSeconds(e.end_time)-t.mysqlToSeconds(e.start_time);return t.durationForDisplay(a)}},{key:"displayTime",value:function(e){var t=new g;return e&&-1===e.indexOf("1970")?t.getTimeOnly(e):""}},{key:"componentWillReceiveProps",value:function(e){e.task!==this.state.task&&this.setState({task:e.task})}},{key:"componentDidMount",value:function(){var e=this.props,t=void 0!==e.isActiveTask&&e.isActiveTask;this.setState({task:e.task,isActiveTask:t})}},{key:"render",value:function(){var e=this.props,t=this.state.task;return i.a.createElement("li",{className:"timer-active-task-row"},i.a.createElement("div",{className:"ttr-left"},i.a.createElement("div",{className:"ttr-description-wrapper"},!1===this.state.showInput?i.a.createElement("div",{className:"ttr-description",onClick:this.showInput},t.description?t.description:"Type task description..."):i.a.createElement("input",{autoFocus:!0,size:t.description?t.description.length:15,className:"ttr-description-input "+(this.state.showExtras?" ttr-description-input-active":""),type:"text",onChange:this.handleDescriptionChange,onBlur:this.handleDescriptionOnBlur,value:t.description,placeholder:"Type task description..."}))),i.a.createElement("div",{className:"ttr-active-right"},i.a.createElement(f,{selected:t.project_id,handleChange:this.handleProjectChange,options:e.projects,role:"project-select"}),i.a.createElement(f,{selected:t.label_id,handleChange:this.handleLabelChange,options:e.labels,role:"label-select"}),i.a.createElement("div",{className:"ttr-last"},i.a.createElement("div",{className:"ttr-display-timer"},j.isStarted(t)?i.a.createElement(k,{startTime:t.start_time}):this.displayDuration(t)),i.a.createElement("div",{className:"ttr-actions"},j.isStarted(t)?i.a.createElement("div",{className:"ttr-stop-button",onClick:this.stopTimer},i.a.createElement(b.l,{size:15})):i.a.createElement("div",{className:"ttr-start-button",onClick:this.startTimer},i.a.createElement(b.h,{size:15}))))))}}]),t}(i.a.Component),C=a(39),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={isActiveTask:!1,showInput:!1,showExtras:!1,descriptionChanged:!1,task:{description:"",start_time:0}},a.date=new g,a.createTask=a.createTask.bind(Object(m.a)(a)),a.updateTask=a.updateTask.bind(Object(m.a)(a)),a.toggleTimer=a.toggleTimer.bind(Object(m.a)(a)),a.handleProjectChange=a.handleProjectChange.bind(Object(m.a)(a)),a.handleLabelChange=a.handleLabelChange.bind(Object(m.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(m.a)(a)),a.handleDescriptionOnBlur=a.handleDescriptionOnBlur.bind(Object(m.a)(a)),a.showInput=a.showInput.bind(Object(m.a)(a)),a.hideInput=a.hideInput.bind(Object(m.a)(a)),a.showExtras=a.showExtras.bind(Object(m.a)(a)),a.hideExtras=a.hideExtras.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"showExtras",value:function(){console.log("showExtras"),this.setState({showExtras:!0})}},{key:"hideExtras",value:function(){console.log("hideExtras"),this.setState({showExtras:!1})}},{key:"handleDescriptionChange",value:function(e){var t=this.state.task;t.description=e.target.value,this.setState({task:t,descriptionChanged:!0})}},{key:"showInput",value:function(){this.setState({showInput:!0})}},{key:"hideInput",value:function(){this.setState({showInput:!1})}},{key:"handleDescriptionOnBlur",value:function(e){this.hideInput(),this.state.descriptionChanged&&(this.setState({descriptionChanged:!1}),this.updateTask())}},{key:"createTask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.log("task row create",e),Object.keys(e).length>0?this.props.createTask(e):this.props.createTask(this.state.task)}},{key:"updateTask",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.keys(t).length>0?Object.assign({},t):Object.assign({},this.state.task),j.hasNotBeenCreated(e)?this.createTask(t):this.props.updateTask(e,this.state.isActiveTask)}},{key:"toggleTimer",value:function(){var e=Object.assign({},this.state.task),t=new Date;if(!j.isStarted(e))return e.start_time=this.date.toMysqlDateTime(t),void this.updateTask(e);e.end_time=this.date.toMysqlDateTime(t),this.updateTask(e)}},{key:"handleProjectChange",value:function(e){this.updateTask(Object.assign(this.state.task,{project_id:e}))}},{key:"handleLabelChange",value:function(e){this.updateTask(Object.assign(this.state.task,{label_id:e}))}},{key:"displayDuration",value:function(e){var t=new g,a=t.mysqlToSeconds(e.end_time)-t.mysqlToSeconds(e.start_time);return t.durationForDisplay(a)}},{key:"displayTime",value:function(e){var t=new g;return e&&-1===e.indexOf("1970")?t.getTimeOnly(e):""}},{key:"componentWillReceiveProps",value:function(e){e.task!==this.state.task&&this.setState({task:e.task})}},{key:"componentDidMount",value:function(){var e=this.props,t=void 0!==e.isActiveTask&&e.isActiveTask;this.setState({task:e.task,isActiveTask:t})}},{key:"render",value:function(){var e=this.props,t=this.state.task;return i.a.createElement("li",{onMouseOver:this.showExtras,onMouseLeave:this.hideExtras,className:(e.isActiveTask?"timer-active-task-row ":"timer-task-row ")+(this.state.showExtras?" timer-task-row-active":"")},i.a.createElement("div",{className:"ttr-left"},i.a.createElement("div",{className:"ttr-description-wrapper"},!1===this.state.showInput?i.a.createElement("div",{className:"ttr-description",onClick:this.showInput},t.description?t.description:e.isActiveTask?"Type task description...":"no description"):i.a.createElement("input",{autoFocus:!0,size:t.description?t.description.length:15,className:"ttr-description-input "+(this.state.showExtras?" ttr-description-input-active":""),type:"text",onChange:this.handleDescriptionChange,onBlur:this.handleDescriptionOnBlur,value:t.description,placeholder:e.isActiveTask?"Type task description...":"no description"})),t.project_id?i.a.createElement(f,{selected:t.project_id,handleChange:this.handleProjectChange,options:e.projects,role:"project-select"}):this.state.showExtras?i.a.createElement(f,{selected:t.project_id,handleChange:this.handleProjectChange,options:e.projects,role:"project-select"}):""),i.a.createElement("div",{className:"ttr-right"},t.label_id?i.a.createElement(f,{selected:t.label_id,handleChange:this.handleLabelChange,options:e.labels,role:"label-select"}):this.state.showExtras?i.a.createElement(f,{selected:t.label_id,handleChange:this.handleLabelChange,options:e.labels,role:"label-select"}):i.a.createElement("div",{style:{width:"100px"}}),i.a.createElement("div",{className:"ttr-last"},i.a.createElement("div",{className:"ttr-times"},e.isActiveTask?"":i.a.createElement("span",null,this.displayTime(t.start_time)," - ",this.displayTime(t.end_time))),i.a.createElement("div",{className:"ttr-display-timer"},e.isActiveTask&&j.isStarted(t)?i.a.createElement(k,{startTime:t.start_time}):this.displayDuration(t)),i.a.createElement("div",{className:"ttr-actions"},e.isActiveTask?i.a.createElement("div",{className:j.isStarted(t)?"ttr-stop-button":"ttr-start-button",onClick:this.toggleTimer},j.isStarted(t)?i.a.createElement(b.l,{size:15}):i.a.createElement(b.h,{size:15})):"",i.a.createElement("span",{className:"ttr-delete",onClick:function(){return e.deleteTask(t.id)}},i.a.createElement(C.a,{size:20}))))))}}]),t}(i.a.Component),N=function(e){return i.a.createElement("div",{className:"loading-overlay"},i.a.createElement("div",{className:"loading-container"},i.a.createElement("div",null,"Loading"),i.a.createElement("div",{className:"lds-ellipsis"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))))},T=a(22),D=a.n(T),S=a(40),x=a.n(S),_={get:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.send(e,"get",{},t)},post:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.send(e,"post",t,a)},put:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.send(e,"put",t,a)},delete:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.send(e,"delete",t,a)},send:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a.length>0&&!0===n&&(a=x.a.stringify(a)),new Promise((function(n,i){D.a.defaults.headers["X-Requested-With"]="XMLHttpRequest";try{var s=document.querySelector('meta[name="csrf-token"]').getAttribute("content");s&&(D.a.defaults.headers["CSRF-Token"]=s)}catch(r){console.log("No csrf token found. ",r)}D.a.defaults.withCredentials=!0,D.a[t.toLowerCase()](e,a).then((function(e){return n(e.data)})).catch((function(e){if(e.response){var t=e.response.status;if(401===t||403===t||419===t)return console.log("Ajax error: ",e),void(window.location.href="/login");i(422===t?{validationErrors:e.response.data.errors}:e.response.data)}else e.request?console.log(e.request):console.log("Error",e.message);console.log(e.config)}))}))}},I=function(e,t){return e=Math.ceil(e),t=Math.ceil(t),Math.floor(Math.random()*(t-e))+e},M=[],B=1,L=1;L<20;L++)B++,M.push({id:L,client_id:I(1,3),color_id:I(1,9),name:5===L?"Veryveryverylongprojectname this is":"This is project ".concat(L),created_at:"2019-11-".concat(B," 07:19:21"),updated_at:"2019-11-".concat(B," 07:19:21")});var z=_,q=a(90);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F={description:""},R={id:0,name:"none"},Y={id:0,name:"none"},H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,tasks:[],activeTask:Object.assign({},F),projects:[],labels:[]},a.date=new g,a.createTask=a.createTask.bind(Object(m.a)(a)),a.updateTask=a.updateTask.bind(Object(m.a)(a)),a.deleteTask=a.deleteTask.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"createTask",value:function(e){var t=this;e.id||z.post("app/tasks",e).then((function(a){t.setState({activeTask:V({task:e},j.fixDateTimes(a.task))})})).catch((function(e){return console.log("Task could not be created. Error: ",e)}))}},{key:"updateTask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.id&&(this.setState((function(a){return t?j.isDone(e)?{tasks:[e].concat(a.tasks),activeTask:Object.assign({},F)}:{activeTask:j.fixDateTimes(e)}:{tasks:a.tasks.map((function(t,a){return e.id!==t.id?t:j.fixDateTimes(e)}))}})),z.put("app/tasks/".concat(e.id),e).catch((function(e){return console.log("Task could not be updated. Error: ",e)})))}},{key:"deleteTask",value:function(e){this.setState((function(t){return{tasks:t.tasks.filter((function(t){return t.id!==e}))}})),z.delete("app/tasks/".concat(e),{}).catch((function(e){return console.log("Task could not be deleted. Error: ",e)}))}},{key:"componentDidMount",value:function(){var e=this;z.get("app/tasks").then((function(t){return e.setState({tasks:j.fillDefaultValues(t.tasks),loading:!1})})).catch((function(e){return console.log("Could not fetch tasks. Error: ",e)})),z.get("app/tasks/active").then((function(t){void 0!==t.task?e.setState({activeTask:Object.assign({},t.task)}):e.setState({activeTask:Object.assign({},F)})})).catch((function(e){return console.log("Could not fetch active task. Error: ",e)})),z.get("/app/projects").then((function(t){var a=t.projects;a.unshift(Y),e.setState({projects:a})})).catch((function(e){return console.log(e)})),z.get("/app/labels").then((function(t){var a=t.labels;a.unshift(R),e.setState({labels:a})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;if(this.state.loading)return i.a.createElement(N,null);var t,a=[],n=j.sortTasksByDate(this.state.tasks);for(t in n)n.hasOwnProperty(t)&&(a.push(i.a.createElement("li",{key:t,className:"tasks-date-heading"},i.a.createElement("div",null,i.a.createElement("h3",null,this.date.formatDateHeading(t))),i.a.createElement("div",null,i.a.createElement("h3",null,j.dailyTotal(n[t]))))),a.push(n[t].map((function(t,a){return i.a.createElement(P,{task:t,projects:e.state.projects,labels:e.state.labels,key:t.id,updateTask:e.updateTask,deleteTask:e.deleteTask})}))));var s=this.state.activeTask;return i.a.createElement(q.a,{in:!0,appear:!0,timeout:300,classNames:"fade"},i.a.createElement("div",{className:"tasks-main"},i.a.createElement("div",null,i.a.createElement("ul",{className:"tasks-rows"},i.a.createElement(w,{task:s,projects:this.state.projects,labels:this.state.labels,key:s.id,createTask:this.createTask,updateTask:this.updateTask,deleteTask:this.deleteTask,isActiveTask:"true"}))),i.a.createElement("div",null,i.a.createElement("ul",{className:"tasks-rows"},a))))}}]),t}(i.a.Component),W=a(72).Line,J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={data:{}},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;z.post("/app/reports/stats",{action:"past-two-weeks"}).then((function(t){console.log(t),e.setState({data:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return i.a.createElement(q.a,{in:!0,appear:!0,timeout:300,classNames:"fade"},i.a.createElement("div",null,i.a.createElement("div",{className:"main-header"},i.a.createElement("h1",null,"Reports")),void 0!==this.state.data.labels?i.a.createElement(W,{data:this.state.data,width:"1000",height:"300"}):""))}}]),t}(i.a.Component),X=a(16),U=function(e){return i.a.createElement("td",{className:"listing-td-actions"},i.a.createElement("div",{onClick:function(){return e.delete(e.id)}},i.a.createElement(b.p,{size:20})),i.a.createElement("div",{style:{paddingTop:"6px"},onClick:function(){return e.edit(e.id)}},i.a.createElement(b.f,{size:20})))},$=function(e){return e.loading?i.a.createElement(N,null):e.data.length<1?i.a.createElement("div",null,"You don\\'t have any projects yet."):i.a.createElement("div",{className:"listing-table-wrapper"},i.a.createElement("table",{className:"listing-table",cellSpacing:"0"},!0!==e.config.head?i.a.createElement("thead",null):i.a.createElement("thead",null,i.a.createElement("tr",null,e.config.columns.map((function(e){return i.a.createElement("th",{key:e.name},e.displayName)})))),i.a.createElement("tbody",null,e.data.map((function(t){return i.a.createElement("tr",{key:t.id},e.config.columns.map((function(a){var n="";if(-1!==a.name.indexOf("."))for(var s=a.name.split("."),r=0;r<s.length;r++){var o=s[r];if(n||void 0===t[o]||null===t[o]){if(void 0===n[o]){n="";break}n=n[o]}else n=t[o]}else void 0!==t[a.name]&&(n=t[a.name]);var l={};return void 0!==a.size&&(l={width:a.size+"%"}),i.a.createElement("td",{key:a.name,style:l},e.config.project&&"name"===a.name&&t.color.value?i.a.createElement("div",{className:"listing-project-color-wrapper"},i.a.createElement("span",{className:"listing-project-color",style:{background:"hsl(".concat(t.color.value,")")}})):"",i.a.createElement("div",{className:"listing-item-wrapper"},n))})),i.a.createElement(U,{id:t.id,edit:e.edit,delete:e.delete}))})))))},G=function(e){return i.a.createElement("div",{className:"color-palette"},e.colors.map((function(t){return i.a.createElement("div",{key:t.id,className:"color-swatch",onClick:function(){return e.handleChange(t.id)},style:{backgroundColor:"hsl(".concat(t.value,")")}},t.id===e.selected?i.a.createElement(b.d,null):"")})))},K=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"popup-delete box-shadow-heavy"},i.a.createElement("div",{className:"popup-form-row-1"},i.a.createElement("h3",{className:"popup-heading"},e.text),i.a.createElement("div",{className:"popup-close",onClick:e.close},i.a.createElement(b.o,{size:20}))),i.a.createElement("div",{className:"popup-delete-row-2"},i.a.createElement("div",{className:"button delete-button",onClick:e.delete},"Delete"))))};function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee={name:"",client_id:0,color_id:1},te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,projects:[],colors:[],clients:[],showPopup:!1,showClientDropdown:!1,showColorPalette:!1,activeProject:Z({},ee),savingToDb:!1,errors:{},tableConfig:{head:!0,project:!0,columns:[{name:"name",displayName:"Project",size:20},{name:"client.name",displayName:"Client",size:20}]}},a.showPopup=a.showPopup.bind(Object(m.a)(a)),a.delete=a.delete.bind(Object(m.a)(a)),a.edit=a.edit.bind(Object(m.a)(a)),a.create=a.create.bind(Object(m.a)(a)),a.store=a.store.bind(Object(m.a)(a)),a.save=a.save.bind(Object(m.a)(a)),a.hidePopup=a.hidePopup.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.changeColor=a.changeColor.bind(Object(m.a)(a)),a.getColorById=a.getColorById.bind(Object(m.a)(a)),a.getColorValueById=a.getColorValueById.bind(Object(m.a)(a)),a.toggleColorPalette=a.toggleColorPalette.bind(Object(m.a)(a)),a.handleValidationErrors=a.handleValidationErrors.bind(Object(m.a)(a)),a.clearValidationErrors=a.clearValidationErrors.bind(Object(m.a)(a)),a.getClientById=a.getClientById.bind(Object(m.a)(a)),a.getClientNameById=a.getClientNameById.bind(Object(m.a)(a)),a.changeClient=a.changeClient.bind(Object(m.a)(a)),a.toggleClientDropdown=a.toggleClientDropdown.bind(Object(m.a)(a)),a.hideDropdowns=a.hideDropdowns.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=Z({},this.state.activeProject);t.name=e.target.value,this.setState({activeProject:t})}},{key:"confirmDelete",value:function(e){this.showPopup("delete",e)}},{key:"showPopup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={showPopup:e};0!==t&&(a.activeProject=this.state.projects.filter((function(e){return e.id===t}))[0]),this.setState(a)}},{key:"hidePopup",value:function(){this.setState({showPopup:!1,showColorPalette:!1,showClientDropdown:!1,errors:{},activeProject:Z({},ee)})}},{key:"hideDropdowns",value:function(){!0===this.state.showColorPalette&&this.setState({showColorPalette:!1}),!0===this.state.showClientDropdown&&this.setState({showClientDropdown:!1})}},{key:"toggleColorPalette",value:function(){this.setState({showColorPalette:!this.state.showColorPalette})}},{key:"changeColor",value:function(e){var t=Z({},this.state.activeProject);t.color_id=e,t.color=this.getColorById(e),this.toggleColorPalette(),this.setState({activeProject:t})}},{key:"getColorById",value:function(e){var t=this.state.colors.filter((function(t){return t.id===e}));if(t.length>0)return t[0]}},{key:"getColorValueById",value:function(e){var t=this.getColorById(e);return t?t.value:""}},{key:"toggleClientDropdown",value:function(){this.setState({showClientDropdown:!this.state.showClientDropdown})}},{key:"changeClient",value:function(e){var t=Z({},this.state.activeProject);t.client=this.getClientById(e),t.client_id=e,this.toggleClientDropdown(),this.setState({activeProject:t})}},{key:"getClientById",value:function(e){var t=this.state.clients.filter((function(t){return t.id===e}));if(t.length>0)return t[0]}},{key:"getClientNameById",value:function(e){return this.getClientById(e).name}},{key:"delete",value:function(){var e=this.state.activeProject.id,t=Object(X.a)(this.state.projects).filter((function(t){return t.id!==e}));this.setState({projects:t}),this.hidePopup(),z.delete("/app/projects/"+e,{}).catch((function(e){return console.log(e)}))}},{key:"edit",value:function(e){this.showPopup("edit",e)}},{key:"save",value:function(){var e=this;if(void 0!==this.state.activeProject.name&&""!==this.state.activeProject.name){if(!this.state.activeProject.id)return this.store();var t=this.state.activeProject.id,a=this.state.projects.map((function(a){return t===a.id?e.state.activeProject:a}));this.setState({projects:a}),this.hidePopup(),z.put("/app/projects/"+t,this.state.activeProject).then((function(){return e.clearValidationErrors()})).catch((function(t){return e.handleValidationErrors(t)}))}else this.handleValidationErrors({validationErrors:{name:"Please enter a project name"}})}},{key:"create",value:function(){this.showPopup("create")}},{key:"store",value:function(){var e=this;this.state.savingToDb||(this.setState({savingToDb:!0}),z.post("/app/projects",this.state.activeProject).then((function(t){var a=Object(X.a)(e.state.projects);a.push(t.project),e.setState({projects:a,savingToDb:!1}),e.clearValidationErrors(),e.hidePopup()})).catch((function(t){e.handleValidationErrors(t)})).then((function(){return e.setState({savingToDb:!1})})))}},{key:"clearValidationErrors",value:function(){this.setState({errors:{}})}},{key:"handleValidationErrors",value:function(e){void 0!==e.validationErrors&&this.setState({errors:e.validationErrors})}},{key:"componentDidMount",value:function(){var e=this;z.get("/app/projects").then((function(t){return e.setState({projects:t.projects,loading:!1})})).catch((function(e){return console.log(e)})),z.get("/app/clients").then((function(t){return e.setState({clients:t.clients})})).catch((function(e){return console.log(e)})),z.get("/app/colors").then((function(t){return e.setState({colors:t.colors})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;if(this.state.loading)return i.a.createElement(N,null);var t=this.state.showPopup;return i.a.createElement(q.a,{in:!0,appear:!0,timeout:300,classNames:"fade"},i.a.createElement("div",null,i.a.createElement("div",{className:"main-header"},i.a.createElement("h1",null,"Projects"),i.a.createElement("div",{className:"button create-button",onClick:this.create},"Create Project")),i.a.createElement("div",{className:"popup-overlay "+(t?"":"popup-hide")},"delete"===t?i.a.createElement(K,{text:"Deleting Project ".concat(this.state.activeProject.name),delete:this.delete,close:this.hidePopup}):i.a.createElement("div",null,i.a.createElement("div",{className:"popup-form box-shadow-heavy",onClick:this.hideDropdowns},i.a.createElement("div",{className:"popup-form-row-1"},i.a.createElement("h3",{className:"popup-heading"},this.state.activeProject.id?"Edit":"Create"," project"),i.a.createElement("div",{className:"popup-close",onClick:this.hidePopup},i.a.createElement(b.o,{size:20}))),i.a.createElement("div",{className:"popup-form-row-2"},i.a.createElement("div",null,i.a.createElement("div",{className:"box-shadow-light"},i.a.createElement("input",{className:"popup-input",type:"text",value:this.state.activeProject.name,onChange:this.handleChange,placeholder:"Project name..."}),i.a.createElement("div",{className:"popup-selected-client-container",onClick:this.toggleClientDropdown},i.a.createElement("div",{className:"popup-selected-client"},this.state.activeProject.client_id?this.getClientNameById(this.state.activeProject.client_id):"Select Client"),i.a.createElement("div",{className:"popup-selected-client-caret"},i.a.createElement(b.a,{size:20})),this.state.showClientDropdown?i.a.createElement("div",{className:"popup-client-dropdown box-shadow-heavy"},this.state.clients.length?i.a.createElement("ul",null,this.state.clients.map((function(t){return i.a.createElement("li",{key:t.id,onClick:function(){return e.changeClient(t.id)},className:t.id===e.state.activeProject.client_id?"selected":""},t.name)}))):"No clients"):"")),i.a.createElement("span",null,this.state.errors.name))),i.a.createElement("div",{className:"popup-form-row-3"},i.a.createElement("div",{className:"popup-selected-color-container box-shadow-light",onClick:this.toggleColorPalette},i.a.createElement("div",{className:"popup-selected-color",style:{background:"hsl(".concat(this.getColorValueById(this.state.activeProject.color_id),")")}}),i.a.createElement("div",{className:"popup-selected-color-container-caret"},i.a.createElement(b.b,{size:15})),this.state.showColorPalette?i.a.createElement("div",{className:"popup-color-palette-container box-shadow-heavy"},i.a.createElement(G,{selected:this.state.activeProject.color_id,handleChange:this.changeColor,colors:this.state.colors})):""),i.a.createElement("div",null,this.state.savingToDb?i.a.createElement("div",{className:"button create-button button-disabled"},"Creating Project..."):i.a.createElement("div",{className:"button create-button",onClick:this.save},"edit"===t?"Save":"Create"," Project")))))),i.a.createElement($,{config:this.state.tableConfig,data:this.state.projects,edit:this.edit,delete:this.confirmDelete})))}}]),t}(i.a.Component);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie={name:""},se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,clients:[],showPopup:!1,activeClient:ne({},ie),storingNewClient:!1,tableConfig:{head:!1,columns:[{name:"name"}]}},a.showPopup=a.showPopup.bind(Object(m.a)(a)),a.deleteClient=a.deleteClient.bind(Object(m.a)(a)),a.editClient=a.editClient.bind(Object(m.a)(a)),a.createClient=a.createClient.bind(Object(m.a)(a)),a.storeClient=a.storeClient.bind(Object(m.a)(a)),a.saveClient=a.saveClient.bind(Object(m.a)(a)),a.hidePopup=a.hidePopup.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=ne({},this.state.activeClient);t.name=e.target.value,this.setState({activeClient:t})}},{key:"confirmDelete",value:function(e){this.showPopup("delete",e)}},{key:"showPopup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={showPopup:e};0!==t&&(a.activeClient=this.state.clients.filter((function(e){return e.id===t}))[0]),this.setState(a)}},{key:"hidePopup",value:function(){this.setState({showPopup:!1,activeClient:ne({},ie)})}},{key:"deleteClient",value:function(){var e=this.state.activeClient.id,t=Object(X.a)(this.state.clients).filter((function(t){return t.id!==e}));this.setState({clients:t}),this.hidePopup(),z.delete("/app/clients/"+e,{}).catch((function(e){return console.log(e)}))}},{key:"editClient",value:function(e){this.showPopup("edit",e)}},{key:"saveClient",value:function(){var e=this;if(!this.state.activeClient.id)return this.storeClient();var t=this.state.clients.map((function(t){return e.state.activeClient.id===t.id?e.state.activeClient:t}));this.setState({clients:t}),this.hidePopup(),z.put("/app/clients/"+this.state.activeClient.id,this.state.activeClient).catch((function(e){return console.log(e)}))}},{key:"createClient",value:function(){this.showPopup("create")}},{key:"storeClient",value:function(){var e=this;this.state.storingNewClient||(this.setState({storingNewClient:!0}),z.post("/app/clients",this.state.activeClient).then((function(t){var a=Object(X.a)(e.state.clients);a.push(t.client),e.setState({clients:a,storingNewClient:!1}),e.hidePopup()})).catch((function(e){return console.log(e)})))}},{key:"componentDidMount",value:function(){var e=this;z.get("/app/clients").then((function(t){e.setState({clients:t.clients,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){if(this.state.loading)return i.a.createElement(N,null);var e=this.state.showPopup;return i.a.createElement(q.a,{in:!0,appear:!0,timeout:300,classNames:"fade"},i.a.createElement("div",null,i.a.createElement("div",{className:"main-header"},i.a.createElement("h1",null,"Clients"),i.a.createElement("div",{className:"button create-button",onClick:this.createClient},"Create Client")),i.a.createElement("div",{className:"popup-overlay "+(e?"popup-show":"popup-hide")},"delete"===e?i.a.createElement(K,{text:"Deleting Client ".concat(this.state.activeClient.name),delete:this.deleteClient,close:this.hidePopup}):i.a.createElement("div",null,i.a.createElement("div",{className:"popup-edit box-shadow-heavy"},i.a.createElement("div",{className:"popup-form-row-1"},i.a.createElement("h3",{className:"popup-heading"},(this.state.activeClient.id?"Edit":"Create")+" Client"),i.a.createElement("div",{className:"popup-close",onClick:this.hidePopup},i.a.createElement(b.o,{size:20}))),i.a.createElement("div",{className:"popup-form-row-2"},i.a.createElement("input",{className:"popup-input",type:"text",value:this.state.activeClient.name,onChange:this.handleChange})),i.a.createElement("div",{className:"popup-form-edit-row-3"},this.state.storingNewClient?i.a.createElement("div",{className:"button button-disabled"},"Creating..."):i.a.createElement("div",{className:"button create-button",onClick:this.saveClient},"edit"===e?"Save":"Create"))))),i.a.createElement($,{config:this.state.tableConfig,data:this.state.clients,delete:this.confirmDelete,edit:this.editClient})))}}]),t}(i.a.Component);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le={name:""},ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={loading:!0,labels:[],showPopup:!1,activeLabel:oe({},le),storingNewLabel:!1,tableConfig:{head:!1,columns:[{name:"name"}]}},a.showPopup=a.showPopup.bind(Object(m.a)(a)),a.delete=a.delete.bind(Object(m.a)(a)),a.edit=a.edit.bind(Object(m.a)(a)),a.create=a.create.bind(Object(m.a)(a)),a.store=a.store.bind(Object(m.a)(a)),a.save=a.save.bind(Object(m.a)(a)),a.hidePopup=a.hidePopup.bind(Object(m.a)(a)),a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(m.a)(a)),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=oe({},this.state.activeLabel);t.name=e.target.value,this.setState({activeLabel:t})}},{key:"confirmDelete",value:function(e){this.showPopup("delete",e)}},{key:"showPopup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={showPopup:e};0!==t&&(a.activeLabel=this.state.labels.filter((function(e){return e.id===t}))[0]),this.setState(a)}},{key:"hidePopup",value:function(){this.setState({showPopup:!1,activeLabel:oe({},le)})}},{key:"delete",value:function(){var e=this.state.activeLabel.id,t=Object(X.a)(this.state.labels).filter((function(t){return t.id!==e}));this.setState({labels:t}),this.hidePopup(),z.delete("/app/labels/"+e,{}).catch((function(e){return console.log(e)}))}},{key:"edit",value:function(e){this.showPopup("edit",e)}},{key:"save",value:function(){var e=this;if(!this.state.activeLabel.id)return this.store();var t=this.state.labels.map((function(t){return e.state.activeLabel.id===t.id?e.state.activeLabel:t}));this.setState({labels:t}),this.hidePopup(),z.put("/app/labels/"+this.state.activeLabel.id,this.state.activeLabel).catch((function(e){return console.log(e)}))}},{key:"create",value:function(){this.showPopup("create")}},{key:"store",value:function(){var e=this;this.state.storingNewLabel||(this.setState({storingNewLabel:!0}),z.post("/app/labels",this.state.activeLabel).then((function(t){var a=Object(X.a)(e.state.labels);a.push(t.label),e.setState({labels:a,storingNewLabel:!1}),e.hidePopup()})).catch((function(e){return console.log(e)})))}},{key:"componentDidMount",value:function(){var e=this;z.get("/app/labels").then((function(t){e.setState({labels:t.labels,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){if(this.state.loading)return i.a.createElement(N,null);var e=this.state.showPopup;return i.a.createElement(q.a,{in:!0,appear:!0,timeout:300,classNames:"fade"},i.a.createElement("div",null,i.a.createElement("div",{className:"main-header"},i.a.createElement("h1",null,"Labels"),i.a.createElement("div",{className:"button create-button",onClick:this.create},"Create Label")),i.a.createElement("div",{className:"popup-overlay "+(e?"popup-show":"popup-hide")},"delete"===e?i.a.createElement(K,{text:"Deleting Label ".concat(this.state.activeLabel.name),delete:this.delete,close:this.hidePopup}):i.a.createElement("div",null,i.a.createElement("div",{className:"popup-edit box-shadow-heavy"},i.a.createElement("div",{className:"popup-form-row-1"},i.a.createElement("h3",{className:"popup-heading"},(this.state.activeLabel.id?"Edit":"Create")+" Label"),i.a.createElement("div",{className:"popup-close",onClick:this.hidePopup},i.a.createElement(b.o,{size:20}))),i.a.createElement("div",{className:"popup-form-row-2"},i.a.createElement("input",{className:"popup-input",type:"text",value:this.state.activeLabel.name,onChange:this.handleChange})),i.a.createElement("div",{className:"popup-form-edit-row-3"},this.state.storingNewLabel?i.a.createElement("div",{className:"button button-disabled"},"Creating..."):i.a.createElement("div",{className:"button create-button",onClick:this.save},"edit"===e?"Save":"Create"))))),i.a.createElement($,{config:this.state.tableConfig,data:this.state.labels,delete:this.confirmDelete,edit:this.edit})))}}]),t}(i.a.Component),ue=function(){return window.location="/logout"},de=function(){return i.a.createElement(o.a,null,i.a.createElement("div",{id:"wrapper"},i.a.createElement("aside",{id:"sidebar-left"},i.a.createElement("div",null,i.a.createElement("h3",null,"T4")),i.a.createElement("nav",null,i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(o.b,{exact:!0,to:"/app",activeClassName:"left-nav-active"},i.a.createElement(b.e,{size:20}),i.a.createElement("span",null,"Timer"))),i.a.createElement("li",null,i.a.createElement(o.b,{to:"/app/reports",activeClassName:"left-nav-active"},i.a.createElement(b.c,{size:20}),i.a.createElement("span",null,"Reports"))),i.a.createElement("li",null,i.a.createElement(o.b,{to:"/app/projects",activeClassName:"left-nav-active"},i.a.createElement(b.j,{size:20}),i.a.createElement("span",null,"Projects"))),i.a.createElement("li",null,i.a.createElement(o.b,{to:"/app/clients",activeClassName:"left-nav-active"},i.a.createElement(b.q,{size:20}),i.a.createElement("span",null,"Clients"))),i.a.createElement("li",null,i.a.createElement(o.b,{to:"/app/labels",activeClassName:"left-nav-active"},i.a.createElement(b.n,{size:20}),i.a.createElement("span",null,"Labels"))))),i.a.createElement("div",{onClick:ue,className:"sidenav-sign-out"},i.a.createElement("div",null,"Sign Out"),i.a.createElement("span",{className:"sign-out-icon"},i.a.createElement(b.k,{size:20})),i.a.createElement("span",{className:"power-out-icon"},i.a.createElement(b.i,{size:20})))),i.a.createElement("main",null,i.a.createElement(l.a,{exact:!0,path:"/app",component:H}),i.a.createElement(l.a,{path:"/app/reports",component:J}),i.a.createElement(l.a,{path:"/app/projects",component:te}),i.a.createElement(l.a,{path:"/app/clients",component:se}),i.a.createElement(l.a,{path:"/app/labels",component:ce}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.31225eec.chunk.js.map